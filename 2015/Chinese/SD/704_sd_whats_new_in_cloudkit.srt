1
00:00:20,387 --> 00:00:23,724
CloudKit中的新特性


2
00:00:30,364 --> 00:00:34,768
下午好 欢迎参加第704环节的讲座
“CloudKit中的新特性”


3
00:00:35,169 --> 00:00:36,170
我叫Olivier


4
00:00:36,236 --> 00:00:39,139
是iCloud客户端团队的技术经理


5
00:00:39,973 --> 00:00:44,778
一年前我们介绍了CloudKits
它对你们开发者来说


6
00:00:44,845 --> 00:00:48,615
是一种驾驭iCloud的全新架构


7
00:00:50,284 --> 00:00:53,987
我们在iOS 8上构建了很多


8
00:00:54,054 --> 00:00:55,389
CloudKits的新特性


9
00:00:55,522 --> 00:00:59,526
最明显是把iCloud Drive
和iCloud照片库


10
00:00:59,593 --> 00:01:03,730
全部加入了CloudKit之中而
Mail Drop HomeKit


11
00:01:04,096 --> 00:01:08,035
Safari历史同步和电话历史同步
也都使用了CloudKit


12
00:01:09,770 --> 00:01:11,872
一年之后我们看到了什么？


13
00:01:13,307 --> 00:01:17,244
我们上传了2400多亿个记录


14
00:01:18,178 --> 00:01:21,748
我们存储了来自3亿多用户的


15
00:01:21,815 --> 00:01:25,152
超过250PB的资源数据


16
00:01:26,787 --> 00:01:28,255
我们真是喜不自禁


17
00:01:28,322 --> 00:01:31,425
对于CloudKit带给我们


18
00:01:31,859 --> 00:01:34,695
可靠性和稳定性


19
00:01:35,362 --> 00:01:39,867
所以今年我们会再加入几个新特性


20
00:01:40,467 --> 00:01:44,204
IOS和OS X上的备忘录
正在使用CloudKit


21
00:01:44,271 --> 00:01:47,708
在你的设备之间实现备忘录同步


22
00:01:48,942 --> 00:01:51,411
我们昨天介绍的新app-新闻


23
00:01:51,645 --> 00:01:55,148
也是完全构建在
CloudKit公用数据库基础上的


24
00:01:56,283 --> 00:01:59,520
今年就连WWDC app
也在使用CloudKit


25
00:02:00,020 --> 00:02:02,289
最后一个要点
iOS 9上提供对iCloud备份


26
00:02:03,023 --> 00:02:06,393
端口支持以便使用CloudKit


27
00:02:07,227 --> 00:02:09,562
所以这其实有更大的意义


28
00:02:09,630 --> 00:02:12,466
因为就用户数量 数据量


29
00:02:12,799 --> 00:02:14,501
和每秒的请求数量而言


30
00:02:14,701 --> 00:02:17,471
iCloud备份是我们最大的服务


31
00:02:19,907 --> 00:02:22,776
我们也从你们开发者那里
得到了一些好的反馈


32
00:02:23,310 --> 00:02:26,747
比如 Hipstamatic说
利用CloudKit我们得以专注于


33
00:02:26,813 --> 00:02:28,148
构建自己的app


34
00:02:28,215 --> 00:02:30,050
甚至还有些游刃有余


35
00:02:30,651 --> 00:02:33,187
这正是构建CloudKit的原因


36
00:02:33,887 --> 00:02:37,457
为了使你们这些开发者
能够专心构建优秀的app


37
00:02:37,524 --> 00:02:39,593
构建美好的用户体验不用去设置服务器


38
00:02:39,860 --> 00:02:43,330
不用去运营服务器


39
00:02:43,664 --> 00:02:46,733
不用7乘24小时随时待命


40
00:02:48,268 --> 00:02:52,239
AgileBits正在使用
CloudKit 同步密码数据


41
00:02:52,306 --> 00:02:53,340
他们对此非常满意


42
00:02:53,407 --> 00:02:56,677
他们这样说
CloudKit非常快速且高效


43
00:02:57,144 --> 00:02:59,780
它使错误检测和排除变得简单易行


44
00:03:00,480 --> 00:03:05,586
是CloudKit的设计目标之一


45
00:03:06,119 --> 00:03:09,223
如果后台程序 
网络或服务器端存在错误


46
00:03:09,289 --> 00:03:12,359
我们会把该错误发回你的app


47
00:03:12,759 --> 00:03:15,729
让你的app负责处理 重试


48
00:03:15,796 --> 00:03:17,464
如果那么做是有意义的话


49
00:03:19,333 --> 00:03:24,137
赞誉来自于IconFactory
“CloudKit最大的优点之一是


50
00:03:24,204 --> 00:03:27,040
没有复杂的登陆程序或设置程序”


51
00:03:27,608 --> 00:03:29,643
这也是我们的目标之一


52
00:03:30,043 --> 00:03:35,182
让天衣无缝的用户体验成为可能


53
00:03:35,249 --> 00:03:36,650
无需创建账户


54
00:03:36,717 --> 00:03:38,919
无需录入密码或记住密码


55
00:03:40,954 --> 00:03:42,422
除了这些良好的反馈之外


56
00:03:42,489 --> 00:03:45,092
我们还听到了你们开发者提出一些问题


57
00:03:45,659 --> 00:03:47,261
去年我们介绍CloudKit时


58
00:03:47,327 --> 00:03:49,096
我们说它没有限制


59
00:03:49,863 --> 00:03:52,666
所以我们收到了一些问题
比如 这是什么意思？


60
00:03:52,733 --> 00:03:55,435
如果我的app达到限额怎么办？


61
00:03:55,802 --> 00:03:57,504
我要付给苹果公司多少钱？


62
00:04:00,541 --> 00:04:03,110
去年我们立刻收到的第二个问题
大意是这样的:


63
00:04:03,277 --> 00:04:04,811
好的 但是网络呢？


64
00:04:05,078 --> 00:04:09,116
如果我有一个网络app
我想让它能够访问


65
00:04:09,183 --> 00:04:13,086
IOS和OS X CloudKit
app所访问的相同的数据怎么办


66
00:04:13,887 --> 00:04:15,355
关于这两个问题的讨论


67
00:04:15,422 --> 00:04:17,156
我要把它交给Eric


68
00:04:17,524 --> 00:04:19,660
Eric是
iCloud服务器端团队的经理


69
00:04:26,733 --> 00:04:27,935
谢谢 谢谢 Olivier


70
00:04:28,001 --> 00:04:30,470
很高兴能在今天下午来到这里


71
00:04:30,537 --> 00:04:32,372
和你们讨论CloudKit的新特性


72
00:04:32,940 --> 00:04:34,708
首先我们来回答第一个问题


73
00:04:34,775 --> 00:04:35,876
要花多少钱？


74
00:04:36,343 --> 00:04:38,645
来看CloudKit的使用和价格


75
00:04:38,812 --> 00:04:40,080
在此之前 我们需要理解


76
00:04:40,147 --> 00:04:42,349
CloudKit的架构


77
00:04:43,417 --> 00:04:46,486
当你使用CloudKit时
你所有的数据都存储在


78
00:04:46,553 --> 00:04:47,921
你的CloudKit容器中


79
00:04:48,255 --> 00:04:50,257
这个地方存储着你所有的数据


80
00:04:50,524 --> 00:04:52,593
你能够以两种不同的方式存储这些数据


81
00:04:53,126 --> 00:04:58,232
一种是作为私人数据库
另一种是作为公用数据库


82
00:04:59,032 --> 00:05:02,035
私人数据库是用户的私人数据


83
00:05:02,970 --> 00:05:05,239
比如iCloud照片库


84
00:05:05,405 --> 00:05:08,575
你拍的
所有照片都存在CloudKit中


85
00:05:09,009 --> 00:05:11,345
用户本人可以对其进行访问和管理


86
00:05:11,478 --> 00:05:13,480
由于这是用户的私人数据


87
00:05:13,614 --> 00:05:17,217
它占用是用户的存储限额 不是开发者


88
00:05:18,151 --> 00:05:19,953
现在我们来看公用数据库


89
00:05:20,387 --> 00:05:22,155
这是应用的公用数据


90
00:05:22,689 --> 00:05:25,325
关于这个的最佳案例是我们昨天刚发布


91
00:05:25,492 --> 00:05:27,160
新的新闻app


92
00:05:27,594 --> 00:05:30,464
其中所有的新闻文章
是通过CloudKit公用数据库


93
00:05:30,531 --> 00:05:33,700
分布在所有的新闻应用之中


94
00:05:34,301 --> 00:05:36,503
由于它是应用的公用数据


95
00:05:36,770 --> 00:05:39,506
它占用的是开发者的存储限额


96
00:05:39,840 --> 00:05:42,910
所以当我们讨论价格和使用时


97
00:05:42,976 --> 00:05:45,979
我们其实是在讨论公用数据库的使用


98
00:05:46,780 --> 00:05:47,915
我们来看看这是什么意思


99
00:05:50,050 --> 00:05:51,718
对于我们提供的公用数据库


100
00:05:52,052 --> 00:05:53,220
我们有一定的免费限额


101
00:05:54,121 --> 00:05:57,424
如果你超出了免费限额
我们还有一个收费结构


102
00:05:58,158 --> 00:05:59,860
此外 我们还有使用数据


103
00:06:00,761 --> 00:06:02,062
我们来看看免费限额


104
00:06:03,964 --> 00:06:08,635
你把资源存在云盘里 追踪到这些资源


105
00:06:09,236 --> 00:06:11,071
一开始会送你10GB


106
00:06:11,805 --> 00:06:14,007
所以 如果你没有用户 你刚开始发展


107
00:06:14,341 --> 00:06:15,275
送你10G


108
00:06:15,709 --> 00:06:18,245
随着你的用户数量增长


109
00:06:18,312 --> 00:06:20,514
随着你的应用越来越受欢迎


110
00:06:20,948 --> 00:06:24,184
我们会给你增加每人额外250MB


111
00:06:24,251 --> 00:06:27,321
我们会为这些用你应用的用户


112
00:06:28,355 --> 00:06:32,059
我们可以增加到
最高可达1PB的存储空间


113
00:06:34,161 --> 00:06:35,229
同样


114
00:06:35,295 --> 00:06:37,798
对于你存储记录数据的数据库


115
00:06:38,232 --> 00:06:42,002
我们一开始会送你100MB
每个用户可增加2.5MB


116
00:06:42,069 --> 00:06:44,137
最高可达10TB的免费限额


117
00:06:45,305 --> 00:06:48,942
除了数据存储以外 还提供数据传输


118
00:06:49,743 --> 00:06:50,711
上传和下载资源时


119
00:06:50,777 --> 00:06:53,347
你会消耗带宽


120
00:06:54,248 --> 00:06:56,350
我们一开始会每月送你2GB的


121
00:06:56,583 --> 00:06:59,253
数据传输量与其他配给一样


122
00:07:00,087 --> 00:07:02,789
随着你的用户数量增加 会增加限额


123
00:07:02,856 --> 00:07:05,292
我们每人每月会增加50MB


124
00:07:06,026 --> 00:07:08,996
提供每月最高200TB的数据传输量


125
00:07:09,096 --> 00:07:11,932
全部免费


126
00:07:13,333 --> 00:07:15,869
对于数据库 情况略有不同


127
00:07:16,370 --> 00:07:19,173
我们的衡量依据是每秒的请求


128
00:07:19,873 --> 00:07:23,277
我们一开始会送你每秒40个请求
这个量很大


129
00:07:23,810 --> 00:07:25,879
与其他配给一样


130
00:07:26,413 --> 00:07:27,781
它会随着用户数量增长


131
00:07:27,848 --> 00:07:29,049
每增加10万用户


132
00:07:29,116 --> 00:07:31,985
会有每秒10个请求的增量


133
00:07:32,352 --> 00:07:35,255
最高可达每秒400个免费请求


134
00:07:35,722 --> 00:07:38,325
关于每秒的请求数


135
00:07:38,392 --> 00:07:39,893
重要的是它其实是一种节流限制


136
00:07:40,360 --> 00:07:42,996
如果因为某种原因
你的应用达到了这些限额


137
00:07:43,230 --> 00:07:46,099
我们会向你发送客户端节流错误


138
00:07:46,166 --> 00:07:47,935
告诉你 你已达到了限额


139
00:07:49,269 --> 00:07:50,637
随后我们再来讨论一下


140
00:07:50,704 --> 00:07:52,206
如何确保这种情况不会再次发生


141
00:07:54,408 --> 00:07:56,810
好的 如果你真的超过了这些限额


142
00:07:56,877 --> 00:07:58,278
可以付费获取更多用量


143
00:07:58,545 --> 00:08:00,214
也就是我们的公用数据库费用


144
00:08:01,281 --> 00:08:03,350
现在的情况是已超出了
我们送你的免费限额


145
00:08:03,417 --> 00:08:07,721
所以这个增量范围是在
你得到的免费限额和你的用量之间


146
00:08:08,455 --> 00:08:11,758
资源是每月0.03美元/GB


147
00:08:12,226 --> 00:08:14,127
数据库是每月3.00美元/GB


148
00:08:14,862 --> 00:08:16,196
在数据传输方面


149
00:08:16,263 --> 00:08:18,565
传输资源是0.10美元/GB


150
00:08:19,132 --> 00:08:20,901
对于数据库的请求价格


151
00:08:21,235 --> 00:08:24,037
100美元可额外增加10个请求/秒


152
00:08:24,271 --> 00:08:26,673
如果你达到了免费限额


153
00:08:26,740 --> 00:08:29,042
你可以根据需要增加用量


154
00:08:29,109 --> 00:08:30,410
直到你的应用能够平稳运行


155
00:08:33,881 --> 00:08:35,716
当然 推送是免费的


156
00:08:36,049 --> 00:08:38,619
好的 我们现在来看一个


157
00:08:39,186 --> 00:08:42,289
CloudKit计算器的演示


158
00:08:42,389 --> 00:08:46,126
它的访问网址是
developer.apple.com/cloudkit


159
00:08:46,193 --> 00:08:47,895
如果你还没玩过 你可以去玩玩


160
00:08:48,395 --> 00:08:50,464
我要邀请
Ramiro Calvo来帮我操作


161
00:08:50,531 --> 00:08:52,699
因为显然我无法边操作边讲话


162
00:08:53,166 --> 00:08:55,736
他将帮我们演示这个


163
00:08:56,570 --> 00:08:59,873
如果你进入这个计算器 会立刻注意到


164
00:09:00,073 --> 00:09:04,378
我们的活跃用户为零


165
00:09:04,678 --> 00:09:09,583
对吗？ 你可以看到它下面有一些数字


166
00:09:09,650 --> 00:09:11,885
它们会告诉你
我们给你提供了多少免费的存储空间


167
00:09:11,985 --> 00:09:13,921
起初 它和我们刚才说的一样


168
00:09:13,987 --> 00:09:15,422
10GB的资源存储空间


169
00:09:15,489 --> 00:09:19,226
100MB的数据库存储空间
每月2GB的数据传输量


170
00:09:19,393 --> 00:09:20,794
以及每秒40个请求


171
00:09:21,428 --> 00:09:23,597
现在假设我的应用开始腾飞了


172
00:09:23,664 --> 00:09:24,998
我有10万个用户


173
00:09:25,399 --> 00:09:27,701
我们把数字增加到10万


174
00:09:28,168 --> 00:09:30,504
你会发现我们又给了你更多的存储空间


175
00:09:31,071 --> 00:09:33,373
如果你看下屏幕底部


176
00:09:33,440 --> 00:09:35,876
Ramiro也许你能滚动一下屏幕


177
00:09:35,943 --> 00:09:41,181
你会发现花费其实是0美元


178
00:09:41,682 --> 00:09:43,684
Ramiro请把屏幕向下滚动一点 
谢谢


179
00:09:44,751 --> 00:09:46,753
好的 可以看到花费是0美元


180
00:09:47,487 --> 00:09:49,957
现在假设我们的用户达到了50万人


181
00:09:54,094 --> 00:09:56,663
好的 我们又一次得到了很多存储空间


182
00:09:56,730 --> 00:09:58,732
现在我们有多达125TB了


183
00:09:58,866 --> 00:10:02,569
我们仍在增加限额 你的花费仍然是零


184
00:10:03,604 --> 00:10:04,872
现在假设有100万用户


185
00:10:06,240 --> 00:10:08,175
好的 现在我们有很多用户了


186
00:10:08,809 --> 00:10:10,143
我们有很多存储空间


187
00:10:10,210 --> 00:10:12,579
我们有多达250TB的数据


188
00:10:13,881 --> 00:10:15,983
每秒有很多请求 它还是免费的


189
00:10:16,450 --> 00:10:18,018
现在假设有400万用户


190
00:10:19,953 --> 00:10:21,989
好的 现在是400万用户了


191
00:10:22,055 --> 00:10:23,490
你会看到这里将出现很大的数字


192
00:10:24,258 --> 00:10:27,494
我们有多达1PT的存储空间
10TB的数据库存储空间


193
00:10:27,895 --> 00:10:31,298
每月200TB的数据传输量


194
00:10:31,365 --> 00:10:33,934
这是相当多的数据


195
00:10:34,001 --> 00:10:36,136
所有这些依然不需要你花费分毫


196
00:10:36,837 --> 00:10:39,139
现在来回想一下价格阶梯


197
00:10:39,740 --> 00:10:41,074
在某种情况下 我们达到了限额


198
00:10:41,375 --> 00:10:42,776
这个限额貌似就在这里


199
00:10:42,910 --> 00:10:44,311
你得到了约1PB的存储空间


200
00:10:44,378 --> 00:10:46,046
你能得到的最大限额


201
00:10:46,113 --> 00:10:49,650
那么随着我们增加更多的用户
一定会有一些花费


202
00:10:49,716 --> 00:10:51,051
假设有500万用户


203
00:10:54,154 --> 00:10:57,024
这里的花费是仍是免费的


204
00:10:57,558 --> 00:10:59,193
这是怎么回事？


205
00:11:00,027 --> 00:11:03,931
如果你的应用的平均用量


206
00:11:03,997 --> 00:11:06,466
少于我们送你的每个用户的用量
仍然不需要你花费分毫


207
00:11:06,733 --> 00:11:07,768
因为是平均值


208
00:11:07,835 --> 00:11:10,304
这意味着有些用户也许超出了平均用量


209
00:11:10,370 --> 00:11:12,673
有些也许用得少一些 这都没有关系


210
00:11:12,973 --> 00:11:14,141
它仍然无需你花费分毫


211
00:11:14,541 --> 00:11:16,610
所以我们可以一直加到一千万人


212
00:11:17,010 --> 00:11:20,180
结果显示仍然无需你花费分毫 对吧


213
00:11:20,280 --> 00:11:23,717
如果你能正确构建你的应用


214
00:11:23,784 --> 00:11:25,819
保持在我们送你的免费限额之内


215
00:11:26,186 --> 00:11:29,489
这就是我们的计算方式
如果你想获取更多信息


216
00:11:29,556 --> 00:11:30,591
请使用该计算器


217
00:11:31,024 --> 00:11:31,925
感谢 Ramiro 


218
00:11:40,534 --> 00:11:43,237
好的 下一个问题是
我如何知道我用了多少？


219
00:11:43,770 --> 00:11:45,572
CloudKit
 Dashboard 


220
00:11:45,639 --> 00:11:46,840
是我们显示该信息的场所


221
00:11:47,074 --> 00:11:49,443
Dashboard是一个网络应用


222
00:11:49,510 --> 00:11:52,045
网址是
developer.apple.com


223
00:11:52,112 --> 00:11:54,348
你可以在这里查看你的容器


224
00:11:54,448 --> 00:11:58,585
管理你的记录类型


225
00:11:58,652 --> 00:12:01,255
不管它们是正在开发中
还是已经完成了开发


226
00:12:01,989 --> 00:12:04,024
我们又添加了一些新功能


227
00:12:04,925 --> 00:12:07,661
如果你去看看我们添加了什么


228
00:12:07,728 --> 00:12:10,364
你会发现有个称为用法的新部分


229
00:12:10,964 --> 00:12:12,533
你可以去那里看看


230
00:12:12,599 --> 00:12:15,035
你的应用容器性能如何


231
00:12:16,770 --> 00:12:18,005
如果我们点进去


232
00:12:18,238 --> 00:12:20,107
我们会有几种不同的方法
来查看这些数据


233
00:12:20,174 --> 00:12:23,310
我们可以按天浏览或按月浏览


234
00:12:25,846 --> 00:12:28,315
如果你是按天查看信息


235
00:12:28,382 --> 00:12:30,584
该图表的最上面是用户数量


236
00:12:30,651 --> 00:12:32,085
这非常重要


237
00:12:32,286 --> 00:12:36,123
因为我们正是根据你的用户数量
来计算送你多少免费资源


238
00:12:36,190 --> 00:12:37,524
所以你应该先看一下这个


239
00:12:38,392 --> 00:12:40,327
现在你还会注意到


240
00:12:40,627 --> 00:12:41,995
右边有一些虚线


241
00:12:42,062 --> 00:12:44,932
因为我们给你的是两个月的数据


242
00:12:44,998 --> 00:12:47,100
上个月和当月


243
00:12:47,167 --> 00:12:48,769
当月取决于你的所在月份


244
00:12:48,836 --> 00:12:50,370
其中有一些是预测


245
00:12:50,671 --> 00:12:52,706
我们会根据您的容器之前的活动


246
00:12:52,773 --> 00:12:55,142
为你作出预测


247
00:12:56,476 --> 00:12:58,545
下面是另一幅图表


248
00:12:58,612 --> 00:13:00,814
它显示的是每秒的请求


249
00:13:00,881 --> 00:13:03,617
每天我们会向你展示我们所看到的


250
00:13:03,684 --> 00:13:05,118
某一天的每秒请求峰值是什么


251
00:13:06,386 --> 00:13:09,823
你还可以选择按月 如果你选择按月


252
00:13:09,957 --> 00:13:12,693
你会看到12个月每个月份的


253
00:13:12,960 --> 00:13:14,494
应用活动情况


254
00:13:15,095 --> 00:13:17,164
而当月是典型的


255
00:13:17,231 --> 00:13:19,933
用虚线表示的预测


256
00:13:20,000 --> 00:13:22,603
基本上就是我们对当月的预期


257
00:13:23,504 --> 00:13:25,839
现在我们往下滚屏来看看其他几幅图表


258
00:13:27,040 --> 00:13:29,576
这是数据库存储和资源存储


259
00:13:30,277 --> 00:13:31,879
你会发现这里有些不同


260
00:13:31,945 --> 00:13:33,013
你会看到两条线


261
00:13:33,146 --> 00:13:35,649
上面是一条红线 下面是一条黄线


262
00:13:36,083 --> 00:13:40,787
红线代表我们送给你的免费的存储量


263
00:13:41,455 --> 00:13:44,391
黄线代表你的实际用量是多少


264
00:13:45,058 --> 00:13:47,194
所以现在你们大家要玩的游戏是


265
00:13:47,261 --> 00:13:49,930
如何让黄线保持在红线以下 对吗


266
00:13:50,564 --> 00:13:53,166
你要查看该信息的确切方法是


267
00:13:53,333 --> 00:13:56,503
点击右侧这里的限额箱


268
00:13:56,570 --> 00:13:58,805
它默认是关闭的


269
00:13:58,872 --> 00:14:00,107
如果你愿意可以把它打开


270
00:14:00,607 --> 00:14:04,144
之所以默认为关闭是因为
我们送给你那么多免费的存储空间


271
00:14:04,211 --> 00:14:05,913
如果你点开它比例尺会发生变化


272
00:14:05,979 --> 00:14:08,715
与我们送给你的免费存储量相比


273
00:14:08,782 --> 00:14:10,350
你的用量基本上会看似一条直线


274
00:14:11,118 --> 00:14:12,553
所以请别客气 去试试看吧


275
00:14:13,754 --> 00:14:16,256
CloudKit 
Dashboard可提供两样东西


276
00:14:16,723 --> 00:14:19,993
跟踪使用数据是一个新领域


277
00:14:20,127 --> 00:14:21,795
也会送你们免费限额


278
00:14:22,696 --> 00:14:27,434
如今可用的测试版已公布在
developer.apple.com


279
00:14:27,501 --> 00:14:28,702
如果你已有容器


280
00:14:28,769 --> 00:14:31,538
今天你就可用去那里


281
00:14:32,139 --> 00:14:33,974
看看Dashboard上的使用数据


282
00:14:38,345 --> 00:14:39,313
好的


283
00:14:39,379 --> 00:14:41,915
人们提出的第二个问题是
“那么网络呢？”


284
00:14:42,549 --> 00:14:44,351
我很高兴向你们介绍


285
00:14:44,518 --> 00:14:46,887
最新的CloudKit网络服务


286
00:14:47,421 --> 00:14:49,223
就是这个方法 是的 好


287
00:14:55,329 --> 00:14:57,798
通过它 可以对接超强的iOS	


288
00:14:57,865 --> 00:15:00,567
和OS X应用
可用把它们扩展到网络上


289
00:15:01,735 --> 00:15:02,903
那么它是如何运作的呢？


290
00:15:03,270 --> 00:15:04,638
我们先来讨论一下它的特性


291
00:15:04,705 --> 00:15:09,009
你可以通过JSON和HTTPS
获取完整的CloudKit API


292
00:15:09,810 --> 00:15:12,279
我们也提供CloudKit JS库


293
00:15:12,346 --> 00:15:13,780
它无疑是迅速创建网络应用的


294
00:15:13,847 --> 00:15:15,682
最佳方式


295
00:15:16,550 --> 00:15:19,052
我们会提供的网络注册
要使用Apple ID


296
00:15:19,119 --> 00:15:20,554
用户使用你的网络app时


297
00:15:20,621 --> 00:15:22,022
需要以这种方式进行验证


298
00:15:24,791 --> 00:15:30,130
那么它是如何运作的？
如果你观察下 会发现你的应用正在


299
00:15:30,264 --> 00:15:31,665
iOS和OS X上运行


300
00:15:31,732 --> 00:15:34,168
它与CloudKit框架在幕后互动


301
00:15:34,501 --> 00:15:36,937
与我们的CloudKit服务器对话


302
00:15:38,272 --> 00:15:39,973
我们今天为你介绍的是


303
00:15:40,774 --> 00:15:43,810
创建你自己的网络应用的能力


304
00:15:43,877 --> 00:15:47,881
在浏览器中运行
并讨论JSON HTTPS


305
00:15:48,749 --> 00:15:51,652
和我们的CloudKit网络服务
它能让你


306
00:15:51,752 --> 00:15:54,254
相同的CloudKit服务器对话


307
00:15:54,621 --> 00:15:57,658
在iOS和OS X上
进行交互的本地应用程序


308
00:15:58,926 --> 00:16:01,862
关键是要理解JSON和HTTPS


309
00:16:01,929 --> 00:16:04,031
关于这个它其实就是技术规范


310
00:16:04,698 --> 00:16:05,832
没有代码


311
00:16:06,200 --> 00:16:07,935
事实上它完全取决于开发者


312
00:16:08,001 --> 00:16:09,102
对该技术规范的解读


313
00:16:09,736 --> 00:16:12,539
你得创建你自己的端点达到端点


314
00:16:12,840 --> 00:16:16,143
你必须创建URL并构造JSON


315
00:16:16,210 --> 00:16:19,346
后者进入实体并在请求中向上传递
您取回 JSON 响应


316
00:16:19,413 --> 00:16:22,382
对其进行解析
处理资源的上传与下载


317
00:16:22,449 --> 00:16:24,751
重试逻辑等等等等


318
00:16:25,219 --> 00:16:30,290
但这样做更好的方法是使用
CloudKit JS架构


319
00:16:30,991 --> 00:16:34,828
CloudKit JS提供了可用的
JavaScript API


320
00:16:35,028 --> 00:16:40,601
使你避免了HTTPS和JSOH协议
背后的一切复杂性


321
00:16:41,034 --> 00:16:43,804
你可以使用其中任何一个
但如果你去另谋出路


322
00:16:43,871 --> 00:16:46,173
你很可能是疯了
所以请使用CloudKit JS


323
00:16:48,242 --> 00:16:49,409
那么它能给你什么呢？


324
00:16:49,476 --> 00:16:50,944
好的 它能给你全面的


325
00:16:51,011 --> 00:16:52,446
公用与私人数据库的存取


326
00:16:53,046 --> 00:16:54,848
它能给你所有的记录操作


327
00:16:55,315 --> 00:16:57,251
它能让你上传和下载资源


328
00:16:58,018 --> 00:16:59,820
它能让你进行查询


329
00:17:00,420 --> 00:17:03,090
它甚至能让你收到订阅和通知


330
00:17:03,524 --> 00:17:06,960
这意味着我的网络应用


331
00:17:07,060 --> 00:17:09,829
能够收到不同步的事件
就好像你收到推送


332
00:17:09,896 --> 00:17:12,398
告诉你事情有变


333
00:17:12,532 --> 00:17:13,901
或通知你一些其他事情


334
00:17:13,967 --> 00:17:16,737
所以你无需让用户点击更新按钮


335
00:17:16,803 --> 00:17:17,905
或是退出你的网络应用


336
00:17:18,939 --> 00:17:20,574
它还可以发现用户的数据变化


337
00:17:21,441 --> 00:17:23,810
它有能力解答
自定义区中的语义发生了哪些变化


338
00:17:23,877 --> 00:17:26,680
这会为您提供同步的语义


339
00:17:27,347 --> 00:17:31,285
简而言之 它给你的是全面的兼容性


340
00:17:31,351 --> 00:17:32,819
以及在iOS和OS X上运行的


341
00:17:33,187 --> 00:17:35,923
本地CloudKit中的一切能力


342
00:17:41,161 --> 00:17:44,831
正如我之前所说
目前CloudKit JS绝对是


343
00:17:44,898 --> 00:17:46,133
开发网络应用的最佳方式


344
00:17:46,200 --> 00:17:48,001
它是JavaScript API


345
00:17:48,302 --> 00:17:50,704
它与
本地CloudKit API相匹配


346
00:17:50,771 --> 00:17:52,673
JavaScript与
Objective-C语言相配


347
00:17:52,739 --> 00:17:54,641
但你知道我们已经尽力了
它是相当接近


348
00:17:55,108 --> 00:17:56,510
因为没有中间服务器


349
00:17:56,577 --> 00:17:59,313
可创建你的JavaScript应用


350
00:17:59,713 --> 00:18:02,216
你可以直接和CloudKit对话 
你知道


351
00:18:02,282 --> 00:18:06,453
幕后的CloudKit网络服务


352
00:18:06,520 --> 00:18:08,622
你无需运行你自己的服务器
或任何中间服务器


353
00:18:09,256 --> 00:18:12,559
现在要介绍的是
如何创建新的备忘录网络应用


354
00:18:13,026 --> 00:18:15,696
这个前几天曾演示过


355
00:18:16,330 --> 00:18:21,034
让Ramiro Calvo帮忙
来演示一下


356
00:18:21,101 --> 00:18:25,839
向你演示基于CloudKit JS
新的备忘录网络应用


357
00:18:32,679 --> 00:18:34,948
好的 
我们先从icloud.com开始


358
00:18:35,249 --> 00:18:36,483
这是我们的跳板


359
00:18:36,550 --> 00:18:38,519
这里已经有一些网络应用了


360
00:18:38,852 --> 00:18:42,022
你会看到一些熟悉的应用
有照片和iCloud Drive


361
00:18:42,389 --> 00:18:43,390
这是两个已经存在于


362
00:18:43,457 --> 00:18:45,626
CloudKit上部的应用程序


363
00:18:46,293 --> 00:18:51,431
在iOS 9中 新的备忘录应用
也是建立在CloudKit上


364
00:18:51,732 --> 00:18:55,903
所以我们已在CloudKit上
创建了一个新的网络应用


365
00:18:56,270 --> 00:18:59,840
在接下来的演示中
你会看到它丰富的能力


366
00:19:00,674 --> 00:19:02,075
Ramiro将会点进去


367
00:19:02,142 --> 00:19:03,243
这是它的网络app


368
00:19:03,544 --> 00:19:05,712
你会在这里看到一些主要内容


369
00:19:05,913 --> 00:19:06,947
你会看到图片


370
00:19:07,014 --> 00:19:08,182
你能编辑视频


371
00:19:08,482 --> 00:19:09,716
这里有个复选框


372
00:19:10,083 --> 00:19:12,186
所以这些事情在新的备忘录app中
都能实现


373
00:19:12,286 --> 00:19:14,988
它们只是
CloudKit的资源和记录


374
00:19:15,255 --> 00:19:18,825
好的
现在我们要创建一个全新的备忘录


375
00:19:19,860 --> 00:19:21,929
因为我们正在参加开发者大会


376
00:19:21,995 --> 00:19:23,397
我们也许应该安排一下


377
00:19:23,463 --> 00:19:25,632
在这里参加开发者大会时该做些什么


378
00:19:26,466 --> 00:19:28,402
所以也许我们应该先从其中一件


379
00:19:28,468 --> 00:19:30,304
较为重要的事情开始


380
00:19:30,871 --> 00:19:33,106
我们要确保我们会参加所有的会后派对


381
00:19:33,373 --> 00:19:34,741
让我们把这件事列在单子上


382
00:19:38,178 --> 00:19:40,747
在我们参加完会后派对之后


383
00:19:41,248 --> 00:19:46,587
我们真得访问一下
developer.apple.com/cloudkit


384
00:19:47,054 --> 00:19:49,389
看看所有优秀的文稿


385
00:19:49,489 --> 00:19:51,592
包括这个超棒的介绍


386
00:19:51,658 --> 00:19:54,094
在那里你会找到一切


387
00:19:54,161 --> 00:19:56,864
有关CloudKit的信息和文稿


388
00:19:56,930 --> 00:19:58,932
以及最新的CloudKit网络服务


389
00:19:59,666 --> 00:20:02,302
浏览完这些文稿之后我们应该退出


390
00:20:02,603 --> 00:20:06,106
去创建我们的
第一个CloudKit网络应用


391
00:20:07,908 --> 00:20:11,478
创建好之后 我们继续下一项


392
00:20:11,778 --> 00:20:14,214
尽最大努力达到免费限额


393
00:20:14,314 --> 00:20:15,582
这可能要花费一段时间


394
00:20:15,649 --> 00:20:17,184
所以我想我们无需核对这一项


395
00:20:17,417 --> 00:20:19,887
但我至少参加了一个派对


396
00:20:19,953 --> 00:20:24,458
所以我们可先核对这一项Ramiro


397
00:20:24,791 --> 00:20:26,360
完成这个网络体验


398
00:20:26,426 --> 00:20:31,031
现在我们去iOS操作系统


399
00:20:31,098 --> 00:20:33,534
这是在iPad上运行新的备忘录应用


400
00:20:33,934 --> 00:20:35,102
我们打开它


401
00:20:36,970 --> 00:20:40,240
你们会看到与我们
之前所见一样的厨房改装计划


402
00:20:40,307 --> 00:20:43,010
这是我们在全球开发者大会上
刚键入的我们要做的新事情


403
00:20:43,443 --> 00:20:44,678
它会自动显示出来


404
00:20:44,745 --> 00:20:46,013
是同样的数据 对吗


405
00:20:46,079 --> 00:20:47,714
只是我们有一个对接的网站界面


406
00:20:47,781 --> 00:20:50,551
让你把你的本地IOS界面对接上去


407
00:20:51,685 --> 00:20:53,720
现在我们要在这里做一些改动


408
00:20:53,787 --> 00:20:56,256
访问过
developer.apple.com


409
00:20:56,323 --> 00:21:01,261
显然已经用备忘录app开发了一款
很棒的CloudKit网络app


410
00:21:01,562 --> 00:21:04,064
现在我们何不返回去


411
00:21:04,131 --> 00:21:06,400
看看网络


412
00:21:06,633 --> 00:21:08,468
看看那边发生了什么


413
00:21:09,570 --> 00:21:11,438
如果所有事情都做了


414
00:21:11,505 --> 00:21:12,840
你会发现所有事情都核对过了


415
00:21:13,073 --> 00:21:16,443
这又是我之前提到过的通知体验


416
00:21:17,311 --> 00:21:19,713
出现了通知 推送通知


417
00:21:20,247 --> 00:21:22,115
网络应用将其选取


418
00:21:22,249 --> 00:21:24,451
自动更新 向你显示出变化


419
00:21:25,185 --> 00:21:28,155
这就是在iOS 9
和icloud.com上


420
00:21:28,255 --> 00:21:29,923
可用的最新的备忘录网络app


421
00:21:30,424 --> 00:21:31,358
谢谢 Ramiro 


422
00:21:42,269 --> 00:21:45,339
如果你的用户
想使用该应用他们需要注册


423
00:21:46,139 --> 00:21:48,275
所以我们直接跳过去看看


424
00:21:48,342 --> 00:21:50,277
你的网络应用上所显示的界面


425
00:21:50,944 --> 00:21:53,380
首先你需要有一个


426
00:21:53,447 --> 00:21:55,015
让用户注册的按钮


427
00:21:55,082 --> 00:21:56,149
这就是你的用户界面


428
00:21:57,217 --> 00:22:00,754
当用户点击该按钮之后
会弹出一个新的浏览窗口


429
00:22:00,821 --> 00:22:03,357
该浏览窗口归Apple所有


430
00:22:03,524 --> 00:22:04,691
由Apple管理


431
00:22:05,225 --> 00:22:07,694
这是因为ID和密码


432
00:22:07,761 --> 00:22:09,763
只在Apple和该用户之间交互


433
00:22:09,830 --> 00:22:11,431
开发者永远看不到这个


434
00:22:12,232 --> 00:22:14,501
在后面的登入页面


435
00:22:14,568 --> 00:22:16,103
还会显示其他一些东西


436
00:22:21,842 --> 00:22:23,410
首先是“保持登陆状态”


437
00:22:23,677 --> 00:22:25,812
这样用户可以选择勾选


438
00:22:25,879 --> 00:22:27,080
在未来两周保持登陆状态


439
00:22:28,148 --> 00:22:29,816
“忘记Apple ID或密码？”


440
00:22:29,883 --> 00:22:31,752
如果用户忘记了他们的ID


441
00:22:32,052 --> 00:22:34,454
我们将全力帮助他们


442
00:22:34,521 --> 00:22:36,857
想起密码或重置密码


443
00:22:37,324 --> 00:22:41,929
最后 你知道 如果该用户
对Apple生态系统而言是个新用户


444
00:22:41,995 --> 00:22:43,764
他们根本没有Apple ID


445
00:22:44,097 --> 00:22:46,600
他们可当即创建一个Apple ID


446
00:22:46,667 --> 00:22:48,302
他们将得到一个


447
00:22:48,468 --> 00:22:50,671
可以在你的
应用中立即使用的Apple账户


448
00:22:54,007 --> 00:22:56,510
CloudKit网络服务提供包括


449
00:22:57,110 --> 00:23:01,181
我刚讲到的
仅用于iCloud网络的账户


450
00:23:01,315 --> 00:23:03,717
它会为私人数据库的使用提供
1GB的免费存储空间


451
00:23:04,418 --> 00:23:07,654
如果
同一位用户访问了iOS或OS X


452
00:23:07,721 --> 00:23:09,857
并在那里设置了他们的账户
它会立刻自动更新为


453
00:23:09,923 --> 00:23:12,926
5GB的iCloud账户


454
00:23:15,529 --> 00:23:20,734
公用数据库的使用
在iOS OS X和网络上是一样


455
00:23:20,801 --> 00:23:22,736
没有区别 所以在网络上提出请求


456
00:23:22,803 --> 00:23:24,505
和你在手机或Mac上提出请求


457
00:23:24,638 --> 00:23:26,540
是一样的


458
00:23:26,974 --> 00:23:27,975
存储也是一样


459
00:23:28,041 --> 00:23:34,214
在Dashboard上查看使用信息
存储区部分时没有任何差别


460
00:23:34,448 --> 00:23:35,415
它都是放在一起的


461
00:23:37,651 --> 00:23:42,356
我们确实需要一款
配得上iOS或OS X的应用


462
00:23:42,723 --> 00:23:44,525
这些网络服务的目的是


463
00:23:44,591 --> 00:23:48,395
把超棒的iOS和OS X应用
扩展到网络上


464
00:23:51,365 --> 00:23:55,869
它的开发测试版现在可以使用了
是和iOS 9一起发布的


465
00:23:58,372 --> 00:24:00,307
这就是
CloudKit网络服务的内容


466
00:24:00,440 --> 00:24:03,110
现在我要把Olivier请回来


467
00:24:03,277 --> 00:24:05,412
结束这次讲座 非常感谢


468
00:24:11,952 --> 00:24:13,220
谢谢 Eric


469
00:24:13,987 --> 00:24:14,988
这就是今天的内容


470
00:24:15,055 --> 00:24:18,692
我们非常期待看到
你们在CloudKit上


471
00:24:18,759 --> 00:24:21,128
创建出某种应用


472
00:24:21,195 --> 00:24:22,396
迸发出某种惊人的想法


473
00:24:23,897 --> 00:24:26,967
正如Eric所说
我们有了一个新的网页：


474
00:24:27,034 --> 00:24:29,403
developer.Apple.com/cloudkit


475
00:24:29,469 --> 00:24:33,207
它汇集了我们拥有的所有数据
以及在 CloudKit 方面的


476
00:24:33,273 --> 00:24:36,710
包括在新的服务器 网络API
以及在客户端框架方面的


477
00:24:36,777 --> 00:24:41,014
所有文稿 参考库以及示例代码


478
00:24:41,582 --> 00:24:44,484
除了常规的技术支持


479
00:24:44,551 --> 00:24:46,954
论坛和网址以外


480
00:24:47,554 --> 00:24:50,724
如果所有这些都不可用 你可以电邮


481
00:24:50,791 --> 00:24:53,360
cloudkit@apple.com
进行一般咨询


482
00:24:54,561 --> 00:24:57,831
本周我们还有两节讲座


483
00:24:57,898 --> 00:25:01,001
第一节在明天 我们将深入探讨


484
00:25:01,068 --> 00:25:04,438
CloudKit JS
和网络服务 API


485
00:25:06,440 --> 00:25:10,844
另一节讲座在周四下午4:30分
有关CloudKit技巧与窍门讲座


486
00:25:11,311 --> 00:25:14,648
在该讲座中我们将演示最佳实践


487
00:25:14,715 --> 00:25:18,085
介绍一些注意事项


488
00:25:19,486 --> 00:25:22,389
以及我们在iOS 9
和OS X El Capitan中


489
00:25:22,456 --> 00:25:25,459
对客户端框架做出的一些改善


490
00:25:27,294 --> 00:25:30,998
本周我们还有一些实验室活动


491
00:25:31,365 --> 00:25:33,700
在周三 周四 周五上午9:00


492
00:25:33,767 --> 00:25:36,370
我们会请来客户端工程师
我们会请来服务器端工程师


493
00:25:36,803 --> 00:25:40,908
我保证其中有些人
甚至在早上9:00点还没睡


494
00:25:40,974 --> 00:25:43,744
请带着你的问题和想法前来


495
00:25:43,810 --> 00:25:46,713
我们乐于更多地讨论数据


496
00:25:46,780 --> 00:25:49,483
讨论你们头脑中的应用类型


497
00:25:49,550 --> 00:25:51,752
无论用公用数据库还是私人数据库


498
00:25:52,986 --> 00:25:54,021
非常感谢


499
00:25:54,087 --> 00:25:55,689
感谢你们的关注

