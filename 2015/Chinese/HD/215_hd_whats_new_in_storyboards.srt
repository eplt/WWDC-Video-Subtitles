1
00:00:19,586 --> 00:00:24,625
故事板中的新改进


2
00:00:31,565 --> 00:00:32,399
早上好


3
00:00:33,267 --> 00:00:35,235
大家周四快乐


4
00:00:35,736 --> 00:00:39,339
恭喜
在这周这个时候的早上九点开会


5
00:00:40,541 --> 00:00:43,076
去年我也坐在你们坐的位置上
我相当清楚是多么艰难


6
00:00:46,980 --> 00:00:50,384
今天我们来说一些进步
我们在故事板中所取得的


7
00:00:51,151 --> 00:00:54,354
只是帮助大家热身为一整天做好准备


8
00:00:54,788 --> 00:00:56,623
我要在这里想问问大家


9
00:00:57,324 --> 00:00:59,026
这里有多少人安装过


10
00:00:59,426 --> 00:01:00,661
使用故事板的应用？


11
00:01:02,729 --> 00:01:03,964
很多人


12
00:01:06,366 --> 00:01:08,936
这里多少人曾经可能试着使用故事板


13
00:01:09,002 --> 00:01:10,804
或者想着使用故事板


14
00:01:10,871 --> 00:01:15,142
但是团队却决定这不是理想的方式


15
00:01:15,642 --> 00:01:16,476
至少现在不是


16
00:01:17,511 --> 00:01:18,345
好


17
00:01:20,614 --> 00:01:23,750
这里多少人之前从来没有
使用过故事板


18
00:01:25,719 --> 00:01:27,588
哇 你们都是一群老手了


19
00:01:28,956 --> 00:01:29,790
好的


20
00:01:31,024 --> 00:01:33,961
今天我们将集中在三个主要方面


21
00:01:34,361 --> 00:01:36,897
首先我们要谈论我们添加的新特性


22
00:01:36,964 --> 00:01:39,399
来帮助大家组织大家的故事板
让它们便于管理


23
00:01:40,167 --> 00:01:42,903
接着我们会谈谈
自定义标准segueway的方法


24
00:01:43,003 --> 00:01:45,873
Interface Builder为大家提供的方法


25
00:01:46,507 --> 00:01:50,611
最后是
可能会是稍微高端的特性


26
00:01:50,878 --> 00:01:54,848
展开segueway的方法
以及我们怎样取得进步


27
00:01:54,915 --> 00:01:58,452
关于你们在IOS中使用的
自定义container视图


28
00:02:00,754 --> 00:02:01,622
接下来我们开始吧


29
00:02:03,991 --> 00:02:05,792
这里我们有一个很简单的应用演示


30
00:02:05,859 --> 00:02:07,794
就是一个视图集展示一系列


31
00:02:07,861 --> 00:02:09,963
导航控制器内部的图片


32
00:02:10,497 --> 00:02:14,568
如果点击一张就会展示在屏幕上


33
00:02:15,602 --> 00:02:16,837
再轻击一下返回按钮


34
00:02:16,904 --> 00:02:19,173
在左上角就消失了


35
00:02:23,810 --> 00:02:28,148
用户界面的三个部分对应


36
00:02:28,215 --> 00:02:31,118
三个运行期间的视图控制器实例


37
00:02:32,319 --> 00:02:34,288
如果我用图解法表示这个应用


38
00:02:34,354 --> 00:02:36,490
在一张纸上我可能这样做


39
00:02:36,957 --> 00:02:39,993
用盒子代表视图控制器


40
00:02:40,661 --> 00:02:44,097
然后在它们之间连线
来表示他们之间的流动


41
00:02:44,164 --> 00:02:45,199
通过我的应用


42
00:02:47,067 --> 00:02:49,469
这就是故事板捕捉到的信息


43
00:02:49,536 --> 00:02:51,171
让你在运行时刻使用


44
00:02:53,273 --> 00:02:54,975
这里有一些专业的术语


45
00:02:55,042 --> 00:02:56,376
与故事板相关


46
00:02:56,543 --> 00:02:59,079
这些盒子在这里已经变成了圈圈


47
00:02:59,179 --> 00:03:02,282
我们称为情景 它们作为样板


48
00:03:02,349 --> 00:03:04,051
对视图控制器而言


49
00:03:04,117 --> 00:03:05,752
其实这就组成了运行时候的用户界面


50
00:03:07,521 --> 00:03:09,723
这些线我们称为segueway


51
00:03:10,390 --> 00:03:12,826
这里还有一些


52
00:03:13,527 --> 00:03:17,030
不同类型的segueway
segueway和导航控制器


53
00:03:17,097 --> 00:03:18,866
以及视图集控制器之间的关系是


54
00:03:18,932 --> 00:03:21,034
一种segueway
叫segueway关系


55
00:03:21,101 --> 00:03:24,838
很明显 集合视图控制器


56
00:03:25,005 --> 00:03:27,574
在navigation
stack的根文件


57
00:03:27,641 --> 00:03:29,142
被导航控制器所控制


58
00:03:31,044 --> 00:03:33,614
另一种segueway是
触发segueway


59
00:03:33,680 --> 00:03:36,817
这个主要当我轻击


60
00:03:36,884 --> 00:03:38,519
集合中某一单元时


61
00:03:38,585 --> 00:03:41,788
展现的图片视图控制器
使用的是语义定义上的


62
00:03:41,855 --> 00:03:43,457
展示视图控制器的方法


63
00:03:47,261 --> 00:03:49,229
实际上 我们把它们放在


64
00:03:49,296 --> 00:03:53,300
故事板文件中时
我们可以给文件进行标识


65
00:03:54,568 --> 00:03:56,770
然后在interface
Builder中设置


66
00:03:56,837 --> 00:03:59,573
在Xcode中
就像程序中我们的主要界面文件一样


67
00:04:00,174 --> 00:04:01,175
接着我们运行应用


68
00:04:01,842 --> 00:04:03,177
发生的第一件事


69
00:04:03,243 --> 00:04:05,913
就是触发在我们故事板最初情景中的


70
00:04:05,979 --> 00:04:08,682
一个导航控制器


71
00:04:09,716 --> 00:04:12,085
我们看到这里有一种确定的关系


72
00:04:12,152 --> 00:04:13,487
在导航控制器上


73
00:04:16,456 --> 00:04:19,326
所以我们在segueway的另一端


74
00:04:19,927 --> 00:04:22,196
触发视图控制器然后我们建立了联系


75
00:04:22,829 --> 00:04:24,598
是通过segueway定义的


76
00:04:24,865 --> 00:04:26,867
在navigation 
stack的根文件


77
00:04:28,402 --> 00:04:31,405
接着 用户使用应用 


78
00:04:31,705 --> 00:04:36,376
他们轻击某一集视图单元
并执行segueway


79
00:04:36,443 --> 00:04:38,011
在这里我们已经标注过


80
00:04:38,245 --> 00:04:40,013
这就是之前展示的segueway


81
00:04:41,882 --> 00:04:44,618
我们例示视图控制器
在segueway另一端建立起联系


82
00:04:45,419 --> 00:04:49,756
我们展示segueway定义的动作


83
00:04:50,624 --> 00:04:52,893
在设计应用时


84
00:04:52,960 --> 00:04:55,495
和在执行应用时


85
00:04:55,562 --> 00:04:57,564
你的界面变得更加复杂
你的故事板也是如此


86
00:04:58,165 --> 00:05:00,000
最后为了易于控制这些


87
00:05:00,067 --> 00:05:02,736
就像你分解你源代码到多个文件中一样


88
00:05:03,237 --> 00:05:05,506
你可以分解你的故事板到多个文件中


89
00:05:06,573 --> 00:05:09,510
但是我们不能在文件之间
建立segueway


90
00:05:10,677 --> 00:05:13,547
回到代码层面


91
00:05:13,614 --> 00:05:15,282
我们可以示范二级故事板


92
00:05:16,583 --> 00:05:20,454
我们可以在该故事板的情景中


93
00:05:22,523 --> 00:05:24,658
触发视图控制器


94
00:05:24,725 --> 00:05:27,461
或者我们已经看不到情景之间的联系


95
00:05:28,629 --> 00:05:30,831
我们真正想做的是让箭头反过来


96
00:05:33,033 --> 00:05:34,902
这就是在Xcode 7中为大家做的


97
00:05:34,968 --> 00:05:37,337
这个新特性我们称为故事板的引用


98
00:05:44,178 --> 00:05:47,314
所以正如你们所知大家都应该
为托尼鼓掌因为他几乎做了


99
00:05:47,381 --> 00:05:48,949
关于故事版的所有事情


100
00:05:50,150 --> 00:05:51,785
一个故事板


101
00:05:51,852 --> 00:05:54,821
可以与另一情景关联
而且这个情景可以在


102
00:05:54,888 --> 00:05:57,658
同一个故事板中存在
或者另一个故事板中存在


103
00:05:59,593 --> 00:06:01,862
就像任何情景 它可以


104
00:06:02,296 --> 00:06:05,899
是任何segueway的最后终点


105
00:06:07,968 --> 00:06:09,736
这就是需要说的所有 所以我愿意


106
00:06:09,937 --> 00:06:12,706
请托尼上来
为大家展示如何使用Xcode


107
00:06:12,773 --> 00:06:15,843
轻松办到在OS X10 11系统 
IOS9系统和watchOS


108
00:06:15,909 --> 00:06:18,979
组织你的故事板


109
00:06:20,581 --> 00:06:21,715
谢谢 凯尔


110
00:06:25,385 --> 00:06:28,488
早上好 我是托尼 就职于
Intrface Builder


111
00:06:29,089 --> 00:06:30,991
现在
我将向大家展示我们的新特性


112
00:06:31,058 --> 00:06:32,426
故事板引用


113
00:06:32,860 --> 00:06:35,095
开始之前
先让我们看一下我们开发的应用


114
00:06:36,630 --> 00:06:38,732
这是一款应用可以帮助你组织


115
00:06:38,832 --> 00:06:40,601
和计划自驾游


116
00:06:41,368 --> 00:06:44,605
我为这款应用的UI 


117
00:06:44,671 --> 00:06:47,774
使用一个自定义container
视图控制器它可以管理四个标签 


118
00:06:48,542 --> 00:06:52,346
每一个标签
使用各自UI导航控制器执行


119
00:06:52,746 --> 00:06:55,382
你可以通过轻击导航栏打开一个标签


120
00:06:56,950 --> 00:07:00,120
这第一个标签是即将来临事件列表


121
00:07:01,989 --> 00:07:04,258
这个标签是过往事件表


122
00:07:05,759 --> 00:07:07,661
这里我们有一张即将来临的事件


123
00:07:08,395 --> 00:07:11,598
我们在旅途中拍摄的图片
最后是图片集


124
00:07:12,666 --> 00:07:15,536
你可以轻击任何一个图片单元放大图片


125
00:07:16,069 --> 00:07:17,704
你可以轻击这个条框按钮


126
00:07:17,838 --> 00:07:19,306
就可以看到其他操作的菜单


127
00:07:21,141 --> 00:07:23,677
让我们看一下
我的app中的主要故事板


128
00:07:25,712 --> 00:07:29,716
在左上角有我的自定义
container视图控制器


129
00:07:30,484 --> 00:07:32,920
这个container连接


130
00:07:32,986 --> 00:07:37,224
四个使用嵌入式
segueway子导航控制器


131
00:07:37,791 --> 00:07:39,726
这个嵌入式segueway让你


132
00:07:39,793 --> 00:07:42,229
可以在母控制器中嵌入子视图控制器


133
00:07:44,331 --> 00:07:47,267
正如你看到的故事板变得相当大


134
00:07:47,601 --> 00:07:49,036
今天我想做的就是将其分解


135
00:07:49,102 --> 00:07:50,404
成小碎片


136
00:07:51,905 --> 00:07:56,810
如果看一下我的故事板上的按钮
大家可以看到


137
00:07:56,877 --> 00:08:00,013
在图片标签中我有三个视图控制器


138
00:08:01,448 --> 00:08:04,184
这些视图控制器


139
00:08:04,251 --> 00:08:05,452
独立于故事板中的其它情景


140
00:08:05,819 --> 00:08:08,388
所以这样可以让情景
将它们拖进自己的文件中


141
00:08:09,423 --> 00:08:12,593
为了这么做 我要挑选这些视图控制器


142
00:08:12,793 --> 00:08:16,063
置顶在编辑菜单
然后选择故事板中的重构


143
00:08:17,497 --> 00:08:20,100
我访问故事板中的新文件图片


144
00:08:21,435 --> 00:08:24,805
我做这些的时候
Xcode会产生一个新的故事板文件


145
00:08:24,905 --> 00:08:27,341
将这些视图控制器拖出我的主故事板


146
00:08:27,407 --> 00:08:28,709
放进一个新的文件中


147
00:08:30,511 --> 00:08:32,279
那主故事板中会发生什么


148
00:08:32,346 --> 00:08:33,679
让我们按返回按钮


149
00:08:34,748 --> 00:08:35,916
就在下面


150
00:08:35,982 --> 00:08:38,385
我们之前看到三个视图控制器 


151
00:08:38,452 --> 00:08:39,753
现在我们只有一个故事板引用


152
00:08:40,921 --> 00:08:43,323
任何时候你在故事板中重构情景


153
00:08:43,390 --> 00:08:46,326
这些情景都会有segueway


154
00:08:46,393 --> 00:08:49,930
Xcode接受这些segueway
产生一个故事板引用 


155
00:08:49,997 --> 00:08:52,032
并且在引用中
重新布置这些segueway


156
00:08:52,833 --> 00:08:54,835
运行过程中
当segueway执行时


157
00:08:54,902 --> 00:08:57,571
在图片故事板之外它将触发


158
00:08:57,638 --> 00:09:00,374
最初的视图控制器作为最终位置


159
00:09:02,376 --> 00:09:06,146
如果双击这个引用


160
00:09:06,346 --> 00:09:09,516
Xcode会带我到故事板
向我展示引用中的视图控制器


161
00:09:09,716 --> 00:09:11,652
这种情况下 这是最初的导航


162
00:09:11,718 --> 00:09:13,153
故事板中最初的视图控制器


163
00:09:14,521 --> 00:09:15,789
这是使用新特性的一种方法


164
00:09:16,089 --> 00:09:17,925
你可以使用一个大的故事板文件


165
00:09:17,991 --> 00:09:19,760
将其重构成小的碎片


166
00:09:20,694 --> 00:09:23,730
使用新特性的另一种方法
是创建segueway


167
00:09:23,797 --> 00:09:26,266
在各自文件中已存在的视图控制器


168
00:09:27,568 --> 00:09:30,504
现在我要创建一个新segueway


169
00:09:30,571 --> 00:09:32,539
并且要让它被journal按钮触发


170
00:09:33,507 --> 00:09:35,576
我想让它带我返回到


171
00:09:35,642 --> 00:09:37,578
主故事板文件的视图控制器


172
00:09:37,644 --> 00:09:39,980
这里是管理UI并
创建一个新的journal入口


173
00:09:41,248 --> 00:09:45,118
所以 我要将图片操作视图控制器


174
00:09:45,986 --> 00:09:48,088
在这里 我要从库中


175
00:09:48,155 --> 00:09:49,957
拖出一个故事板引用放置在旁边


176
00:09:51,792 --> 00:09:54,461
我们看一下故事板引用属性检查器


177
00:09:57,030 --> 00:09:58,565
正如大家看到的有三个域


178
00:09:59,399 --> 00:10:01,034
第一个域是


179
00:10:01,101 --> 00:10:02,469
正在引用的故事板文件名称


180
00:10:03,303 --> 00:10:06,473
如果留空Xcode会使用相同故事板


181
00:10:06,540 --> 00:10:08,408
这个故事板包含引用本身


182
00:10:08,742 --> 00:10:10,878
这种情况下是图片故事板


183
00:10:11,578 --> 00:10:14,081
如果你的故事板很大 那么这很有用


184
00:10:14,147 --> 00:10:16,183
或者在视图控制器
建一个segueway


185
00:10:16,250 --> 00:10:18,285
并连接至另一个试图控制器


186
00:10:18,986 --> 00:10:21,555
着我的举例中 我想引用到主故事板 


187
00:10:21,722 --> 00:10:23,390
因此我要从菜单中选择


188
00:10:25,526 --> 00:10:27,494
下一个域是你正在引用着的


189
00:10:27,561 --> 00:10:28,862
视图控制器的标识符


190
00:10:29,596 --> 00:10:32,466
如果留空
Xcode会使用引用的故事板


191
00:10:32,533 --> 00:10:34,034
最初的视图控制器


192
00:10:34,868 --> 00:10:37,704
在我的示例中 
我要引用主故事板中


193
00:10:37,771 --> 00:10:39,473
一个特定的控制器而且我已经假定


194
00:10:39,540 --> 00:10:42,776
控制器的标识新入口


195
00:10:45,846 --> 00:10:47,881
最后一个字段是标识符包


196
00:10:49,249 --> 00:10:50,717
你在引用的故事板


197
00:10:50,784 --> 00:10:52,452
可能是处于外部框架


198
00:10:52,619 --> 00:10:53,453
这样的话 


199
00:10:53,620 --> 00:10:55,889
需要将框架标识符包放在这里


200
00:10:56,890 --> 00:10:59,459
我要留空 因为我的主故事板


201
00:10:59,526 --> 00:11:01,762
与图片故事板在同一个包里


202
00:11:05,532 --> 00:11:09,102
再一次 既然我的故事板引用
已经设置好


203
00:11:09,169 --> 00:11:10,270
如果双击它


204
00:11:10,671 --> 00:11:11,872
Xcode就会带我


205
00:11:12,039 --> 00:11:13,707
到我的引用故事板文件


206
00:11:13,974 --> 00:11:15,642
展示正在引用的视图控制器


207
00:11:16,577 --> 00:11:18,912
这种情况中
这就是一个导航控制器 


208
00:11:19,313 --> 00:11:21,515
如果我们看一下标识检查器


209
00:11:21,582 --> 00:11:25,352
可以看到我刚刚在引用中
 输入同样的标识


210
00:11:27,521 --> 00:11:30,057
这个导航控制器的根视图控制器是


211
00:11:30,991 --> 00:11:34,394
这个表格视图控制器用于管理用户界面
并创建新的入口


212
00:11:36,029 --> 00:11:37,998
回到图片故事板


213
00:11:38,265 --> 00:11:40,033
为引用创建一个segueway


214
00:11:42,102 --> 00:11:45,539
之前我提到我要让journal
按钮可以触发这个segueway


215
00:11:46,206 --> 00:11:47,541
在图片视图控制器中


216
00:11:48,075 --> 00:11:49,443
看不到journal按钮


217
00:11:50,677 --> 00:11:54,214
这是因为菜单
在SceneDoc上的上面这里


218
00:11:56,016 --> 00:11:59,987
SceneDoc让你可以
储存顶层对象和视图控制器


219
00:12:00,521 --> 00:12:02,155
可在SceneDoc中放一个视图


220
00:12:02,222 --> 00:12:04,458
如果你想在运行过程中


221
00:12:04,525 --> 00:12:05,926
那个视图不是视图层的一部分


222
00:12:06,860 --> 00:12:09,196
在Xcode7中
SceneDoc中放一个视图


223
00:12:09,263 --> 00:12:11,932
你选中它
它就会在自己的编辑框中显示


224
00:12:11,999 --> 00:12:14,034
编辑框就在画布中视图控制器的正上方


225
00:12:21,675 --> 00:12:23,210
<br/> 
现在 可见journal按钮


226
00:12:23,277 --> 00:12:24,878
让我们创建这个segueway


227
00:12:25,579 --> 00:12:28,315
我要控制拖至我的故事板引用中


228
00:12:28,815 --> 00:12:30,617
我要在显示视图控制器的模态


229
00:12:30,684 --> 00:12:31,552
所以我选择它


230
00:12:34,188 --> 00:12:35,989
好的
看一下活动中的segueway


231
00:12:42,596 --> 00:12:43,764
我要强调的第一件事是


232
00:12:43,830 --> 00:12:46,667
我的图片标签出现了就像之前一样


233
00:12:46,733 --> 00:12:48,635
虽然现在是从独立文件中出现


234
00:12:49,703 --> 00:12:52,105
如果轻击一单元
在journal按钮出现菜单和标签


235
00:12:52,172 --> 00:12:56,076
点击我们执行segueway的按钮


236
00:12:56,143 --> 00:12:58,078
就能够关联到我们的主故事板文件


237
00:12:58,145 --> 00:13:01,648
并且通过标识符显示视图控制器


238
00:13:01,715 --> 00:13:03,217
就像它在同一个故事板中运行一样


239
00:13:04,318 --> 00:13:06,086
这就是我们的新故事板引用特性


240
00:13:06,153 --> 00:13:07,321
希望大家发现他的好处


241
00:13:08,021 --> 00:13:09,489
现在重新把舞台交给凯尔


242
00:13:17,431 --> 00:13:18,498
谢谢 托尼


243
00:13:19,933 --> 00:13:23,971
好的 
所以我看到所有人对这个特性都很兴奋


244
00:13:24,705 --> 00:13:26,740
我们很高兴能够今年把它带给大家


245
00:13:32,079 --> 00:13:33,213
我们说一些别的事情


246
00:13:33,780 --> 00:13:35,816
我们说一下如何自定义 


247
00:13:35,883 --> 00:13:37,351
Interface
 Builder上提供的


248
00:13:37,417 --> 00:13:38,886
标准segueway


249
00:13:40,754 --> 00:13:43,223
看一下我们演示应用的不同方面


250
00:13:43,290 --> 00:13:46,960
我们有一个journal执行时
使用表格视图控制器


251
00:13:49,062 --> 00:13:51,932
如果用户点击了顶部加号按钮


252
00:13:53,100 --> 00:13:54,668
进行模态展示


253
00:13:54,735 --> 00:13:56,637
如托尼之前
用journal按钮展示一样


254
00:13:58,105 --> 00:14:00,007
这就会弹出导航控制器


255
00:14:00,240 --> 00:14:02,509
在其内部是一个表格视图控制器


256
00:14:05,646 --> 00:14:08,682
点击取消按钮导航控制器消失


257
00:14:08,782 --> 00:14:10,951
这就是标准模态展示方式


258
00:14:11,018 --> 00:14:12,686
通过屏幕底部出现


259
00:14:12,753 --> 00:14:14,821
返回到屏幕底部
你可以在iPhone上看到


260
00:14:17,357 --> 00:14:18,559
如果你想要有趣一点呢


261
00:14:21,595 --> 00:14:24,264
用户点击加号按钮
我们展示我们的segueway


262
00:14:24,731 --> 00:14:26,300
我们要闪烁效果


263
00:14:28,802 --> 00:14:32,940
如果我们要接下来是闪烁效果


264
00:14:33,207 --> 00:14:35,809
我们真的很想闪烁退出


265
00:14:38,545 --> 00:14:39,613
你可能很清楚


266
00:14:39,680 --> 00:14:43,183
如果你经常使用故事板


267
00:14:43,684 --> 00:14:46,286
选择segueway时 你会有选项


268
00:14:46,353 --> 00:14:47,955
看一下segueway检查器


269
00:14:49,156 --> 00:14:51,959
有一些标准转换


270
00:14:52,025 --> 00:14:54,828
是iOS中可以加载的模态展示


271
00:14:55,662 --> 00:14:58,832
默认从底端弹出并垂直覆盖


272
00:14:59,199 --> 00:15:02,035
但我们可以选择水平翻转或者淡入淡出


273
00:15:02,469 --> 00:15:04,238
而且可以选择闪烁 


274
00:15:06,340 --> 00:15:09,142
使用早期版本的Xcode


275
00:15:09,209 --> 00:15:12,379
在iOS8可做的一件事是
可将其转成自定义segueway


276
00:15:14,248 --> 00:15:16,149
从这点来说


277
00:15:16,216 --> 00:15:18,452
我们需要把UI
故事板Segueway子类化


278
00:15:18,785 --> 00:15:20,153
并自己处理所有的工作


279
00:15:21,154 --> 00:15:24,958
当我们提到真的展示视图控制器时


280
00:15:25,025 --> 00:15:27,594
那也并非真的是个麻烦事


281
00:15:28,161 --> 00:15:29,696
但要是能不用做 当然是更好了


282
00:15:30,697 --> 00:15:34,434
尤其是在我们需要做一堆的工作


283
00:15:34,501 --> 00:15:35,569
来创建动画的时候


284
00:15:39,173 --> 00:15:42,843
在Xcode 7中当你的目标是
iOS 9或OS X 10.11时


285
00:15:43,243 --> 00:15:45,946
你可以选择标准
segueway类型中的任一种


286
00:15:46,013 --> 00:15:48,582
且仍可以
指定一个故事板segueway 


287
00:15:48,649 --> 00:15:49,683
进行自定义子类化


288
00:15:51,185 --> 00:15:55,389
你完整自定义segueway一样
也可以针对实施重新执行


289
00:15:55,822 --> 00:15:59,893
这时候将调出管理员模态


290
00:16:00,060 --> 00:16:01,395
并变成默认行为


291
00:16:02,095 --> 00:16:05,532
在管理员调出情况下
你可以执行任何你想要的自定义


292
00:16:08,068 --> 00:16:10,971
在我们的模态演示案例中真正重要的是


293
00:16:11,672 --> 00:16:15,209
我们
保留已建立的segueway对象


294
00:16:15,275 --> 00:16:17,644
当用户触发segueway时会创建


295
00:16:18,779 --> 00:16:19,880
在演示案例显示过程中


296
00:16:19,947 --> 00:16:21,682
你的演示器出现在屏幕上


297
00:16:22,883 --> 00:16:24,818
通常segueway对象很短暂


298
00:16:25,352 --> 00:16:28,021
执行segueway 
分配segueway并发送出去


299
00:16:28,288 --> 00:16:30,624
执行  解除分配


300
00:16:30,958 --> 00:16:35,596
并且当视图控制显示在屏幕上 


301
00:16:35,662 --> 00:16:37,998
将在iOS上控制
和结束模态展示segueway 


302
00:16:38,065 --> 00:16:39,333
只要调出管理员模态


303
00:16:40,300 --> 00:16:41,768
我为什么要费如此费劲解释呢


304
00:16:43,537 --> 00:16:45,739
我们需要知道


305
00:16:45,806 --> 00:16:47,074
你将如何实现自定义闪烁 


306
00:16:47,140 --> 00:16:49,142
动画或实现任何自定义模态展示动画


307
00:16:50,477 --> 00:16:52,212
我们的应用很小


308
00:16:53,747 --> 00:16:56,283
用户已点击
这个按钮触发segueway


309
00:16:57,784 --> 00:17:00,721
目标视图控制器已存在


310
00:17:00,787 --> 00:17:02,789
是从故事板里调出但还未在屏幕上显示


311
00:17:03,557 --> 00:17:05,025
将发送执行到segueway


312
00:17:06,292 --> 00:17:07,528
首先要做的是


313
00:17:07,594 --> 00:17:10,897
分配一个转换指派


314
00:17:10,964 --> 00:17:12,332
到目标视觉控制器


315
00:17:14,867 --> 00:17:18,638
随后 它将调用管理员
开始普通模态展示


316
00:17:20,540 --> 00:17:22,009
现在 目标视图控制器


317
00:17:22,476 --> 00:17:24,278
在通过管理员实现或执行


318
00:17:24,344 --> 00:17:26,847
获得present 
ViewController后


319
00:17:27,414 --> 00:17:29,449
它将与转换指派协商


320
00:17:29,783 --> 00:17:31,285
提交对象


321
00:17:31,919 --> 00:17:34,054
实际上是驱动自定义动画


322
00:17:35,856 --> 00:17:38,792
关于这系列协议 如何工作的更多细节


323
00:17:38,859 --> 00:17:40,994
我建议你使用
WWDC 2013的视图控制器


324
00:17:41,061 --> 00:17:43,497
查看自定义传送


325
00:17:45,666 --> 00:17:48,168
另一方面用户已完成视觉控制器


326
00:17:48,235 --> 00:17:50,571
他们轻敲取消按钮


327
00:17:52,206 --> 00:17:53,440
目标视图控制器


328
00:17:53,507 --> 00:17:57,277
因为退出后 仍有转换指派分配给它


329
00:17:57,377 --> 00:17:58,745
并请求转换指派


330
00:17:58,812 --> 00:18:01,682
提供动画控制器以驱动解除


331
00:18:02,149 --> 00:18:05,385
若我们
无法控制我们的segueway


332
00:18:05,452 --> 00:18:06,687
反过来它将控制的转换指派


333
00:18:07,054 --> 00:18:08,655
这些已经全部发布


334
00:18:08,722 --> 00:18:10,858
在iOS 8中或许会出现死机


335
00:18:10,924 --> 00:18:12,492
在iOS 9中会出现屏幕卡顿


336
00:18:12,559 --> 00:18:14,595
所以我们也无法获得漂亮的自定义动画


337
00:18:16,630 --> 00:18:19,533
随后动画控制器收到驱动解除的要求


338
00:18:19,800 --> 00:18:21,301
我们想象的视图消失了


339
00:18:22,302 --> 00:18:24,238
另一个重要的情况是


340
00:18:24,304 --> 00:18:26,306
你处理自适应性的时候


341
00:18:26,607 --> 00:18:29,476
比如说你正在在iPhone上运行


342
00:18:29,676 --> 00:18:31,979
用户旋转设备可能是
一部iPhone 6 Plus


343
00:18:32,045 --> 00:18:35,215
你想展示风景或者人物的不同界面


344
00:18:35,282 --> 00:18:38,352
或在iPad Air 2上运行时


345
00:18:38,418 --> 00:18:41,255
你已经充分利用iOS 9
新多重任务处理特性


346
00:18:41,321 --> 00:18:45,158
用户已经将你的app分成50/50


347
00:18:45,259 --> 00:18:48,629
而你不想 也就是说


348
00:18:48,695 --> 00:18:50,664
关闭一个比较小画面


349
00:18:51,665 --> 00:18:54,902
这个具体事例来自周二的演讲


350
00:18:54,968 --> 00:18:58,038
从iPad 中
iOS 9多重任务处理开始


351
00:18:58,405 --> 00:19:00,707
这解释了为什么 你想做类似这样的事


352
00:19:00,774 --> 00:19:02,176
在这个案例中 这种情况将出现


353
00:19:03,677 --> 00:19:05,579
类似自定义动画


354
00:19:05,646 --> 00:19:08,549
我们需要
用delegate来自定义展示


355
00:19:10,751 --> 00:19:14,288
不论segueway
提出什么模态展示用户都将触发它们


356
00:19:15,689 --> 00:19:19,026
重载执行将对目标视图控制器的


357
00:19:19,660 --> 00:19:21,862
显示控制器


358
00:19:22,229 --> 00:19:23,297
进行自适应指派


359
00:19:24,364 --> 00:19:25,465
这只是指派属性


360
00:19:25,532 --> 00:19:27,267
事实上 协议叫做自适应指派


361
00:19:28,702 --> 00:19:29,736
随后我们调用管理员


362
00:19:29,803 --> 00:19:31,104
以获得标准模态展示


363
00:19:31,171 --> 00:19:33,440
用来结束全屏


364
00:19:33,507 --> 00:19:35,442
而它恰巧适合目前尺寸类


365
00:19:36,443 --> 00:19:39,379
后来 用户做了些什么导致尺寸类变动


366
00:19:39,446 --> 00:19:41,748
比如 
旋转他们iPhone 6 Plus


367
00:19:42,149 --> 00:19:46,320
将iPad air 2
视图分成50/50


368
00:19:48,989 --> 00:19:50,991
展示控制器将告知自适应指派


369
00:19:51,058 --> 00:19:53,660
我们正在改变尺寸类


370
00:19:54,061 --> 00:19:56,096
并反过来请求自适应指派


371
00:19:56,163 --> 00:19:57,831
提供新的视图控制器


372
00:19:58,765 --> 00:20:00,534
暂时替换


373
00:20:00,601 --> 00:20:01,835
目前的视图控制器


374
00:20:03,136 --> 00:20:04,738
关于它如何运作的更多信息


375
00:20:04,805 --> 00:20:06,373
去年 我的老板为大家做展示


376
00:20:06,440 --> 00:20:08,208
即关于iOS8视图控制器的巨大改进


377
00:20:09,476 --> 00:20:11,478
去年 不是两年前


378
00:20:13,714 --> 00:20:15,582
今天 关于它是如何运作的


379
00:20:15,649 --> 00:20:18,185
托尼将用Xcode7
为我们展示自定义动画


380
00:20:24,858 --> 00:20:25,859
谢谢你 凯尔


381
00:20:27,394 --> 00:20:30,330
今天 我将为大家展示几种方法


382
00:20:30,697 --> 00:20:33,267
如何使用代码在你的
segueway中增加自定义逻辑


383
00:20:34,568 --> 00:20:36,570
在执行一个segueway时
在写代码之前


384
00:20:36,637 --> 00:20:39,473
若你已经使用故事板将源视图控制器


385
00:20:39,540 --> 00:20:42,209
传到其目的地


386
00:20:43,243 --> 00:20:45,846
你可能不知道
什么时候segueway会触发


387
00:20:45,946 --> 00:20:48,348
或动画如何展示


388
00:20:49,483 --> 00:20:53,387
为了向你展示
我将在这里创建一个segueway


389
00:20:53,820 --> 00:20:55,355
在用户轻敲删除按钮时


390
00:20:55,656 --> 00:20:58,392
若照片和journal入口有关


391
00:20:58,692 --> 00:21:01,295
我将有条件的提出确认通知单


392
00:21:03,330 --> 00:21:07,000
第一步 


393
00:21:07,067 --> 00:21:09,403
从库中拉出视图控制器


394
00:21:09,469 --> 00:21:10,571
它将用来代表确认通知单


395
00:21:11,772 --> 00:21:15,709
我给这个视图控制器一个自定义类
这点早已增加在项目中


396
00:21:17,144 --> 00:21:21,515
这个类执行加载视图
以从代码中创建自己的视图


397
00:21:22,015 --> 00:21:25,619
这个视图控制器
并不需要 它从库里带出来的视图


398
00:21:26,486 --> 00:21:28,956
我将点击视图 移除它


399
00:21:30,524 --> 00:21:34,194
现在 这个视图控制器
不再获取故事板里的视图


400
00:21:34,394 --> 00:21:38,999
在运行过程中 架构将返回
我的视图控制器实现加载视图


401
00:21:41,502 --> 00:21:45,005
现在我们有了视图控制器确认通知单
接下来 为它创建segueway


402
00:21:46,073 --> 00:21:48,509
我想要
segueway通过代码被触动


403
00:21:48,575 --> 00:21:50,644
而不是通过特别的按钮


404
00:21:51,144 --> 00:21:53,480
与其从视图控制器层次里的


405
00:21:53,547 --> 00:21:56,149
子视图里将其拖出


406
00:21:56,450 --> 00:21:58,685
不如直接从视图控制器里拖出


407
00:21:59,353 --> 00:22:03,590
为做到这个
从我的源视图控制器SceneDoc


408
00:22:03,824 --> 00:22:05,259
拖出图标到目的地标进行控制


409
00:22:05,759 --> 00:22:08,295
再一次 
我想展示一下这个视图控制器


410
00:22:11,498 --> 00:22:14,701
我想通过删除按钮


411
00:22:15,235 --> 00:22:17,371
触动执行segueway的代码


412
00:22:17,971 --> 00:22:21,175
我现在想做的是
从删除按钮中创建一个IB动作


413
00:22:22,709 --> 00:22:24,545
我打开助理编辑器


414
00:22:24,845 --> 00:22:28,315
它将我带到照片视图控制器的实现文件


415
00:22:29,716 --> 00:22:33,053
我将控制从删除按钮拖出到源代码过程


416
00:22:33,220 --> 00:22:36,557
出现一个弹出窗


417
00:22:36,623 --> 00:22:39,393
这样我就可以设置我的连接了


418
00:22:40,694 --> 00:22:42,362
我说过 我想让这个变成一个动作


419
00:22:42,796 --> 00:22:44,665
我将让它删除照片


420
00:22:49,770 --> 00:22:53,974
Xcode生成一个IB动作方法


421
00:22:54,341 --> 00:22:56,376
我将把它粘贴在这里的代码上


422
00:23:01,515 --> 00:23:06,954
好了 在代码中 它将检查
是否有关联的journal入口


423
00:23:07,621 --> 00:23:11,124
若有 
它将调用带标识符的segueway


424
00:23:14,161 --> 00:23:17,297
标识符进入这里


425
00:23:17,364 --> 00:23:19,566
我们来看看
刚在故事板中创建的segueway


426
00:23:21,535 --> 00:23:24,037
等一下 我将让那个segueway
带有相同的标识符


427
00:23:24,471 --> 00:23:27,641
首先 我想引用


428
00:23:27,741 --> 00:23:29,710
为segueway
所准备的那个标识符


429
00:23:30,611 --> 00:23:34,448
在这个方法中
我将关联journal入口


430
00:23:34,515 --> 00:23:37,384
传送到目标视图控制器


431
00:23:37,451 --> 00:23:39,620
这将允许确认通知单


432
00:23:39,686 --> 00:23:41,088
显示journal入口的细节


433
00:23:43,524 --> 00:23:45,325
现在来到故事板


434
00:23:45,392 --> 00:23:48,829
选择segueway 
然后来到属性检查这里


435
00:23:50,364 --> 00:23:54,468
我将在这里打入同样的标识符确认取消


436
00:23:56,470 --> 00:23:59,473
你会看到 若你之前
使用过segueway属性检查


437
00:23:59,540 --> 00:24:01,909
在标识符下面就会有个新域


438
00:24:02,276 --> 00:24:04,745
可让你
指定一个自定义segueway类


439
00:24:05,646 --> 00:24:08,715
在Xcode 7 
你可为segueway类型的


440
00:24:08,782 --> 00:24:10,450
任何系统创建子类


441
00:24:10,918 --> 00:24:15,822
这个在iOS9和Mac OS 
X 10 11中同样适用


442
00:24:15,889 --> 00:24:18,225
我的项目中有一个
我增加的自定义segueway


443
00:24:18,325 --> 00:24:19,459
我将在这里选择它


444
00:24:20,060 --> 00:24:21,795
它叫做缩放动画segueway


445
00:24:22,863 --> 00:24:25,766
我们来看看那个类的实现


446
00:24:26,433 --> 00:24:27,701
我将关闭助理器


447
00:24:28,368 --> 00:24:29,803
使用跳转栏


448
00:24:29,870 --> 00:24:32,406
到达缩放动画segueway


449
00:24:35,576 --> 00:24:36,877
首先 我想指出的是


450
00:24:36,944 --> 00:24:41,715
这个segueway是从
UI故事板Segueway中导出的


451
00:24:41,782 --> 00:24:44,585
并遵循UI视图控制器转换指派协议


452
00:24:45,452 --> 00:24:47,421
这个协议允许你设定对象


453
00:24:47,688 --> 00:24:51,024
对象即是用来控制以及解除


454
00:24:51,091 --> 00:24:53,060
子模态动画展示的方法


455
00:24:55,629 --> 00:24:57,331
首先 加载执行方法


456
00:24:58,398 --> 00:25:00,767
在这个方法中


457
00:25:01,001 --> 00:25:03,537
我将segueway设置为
目标视图控制器的转换指派


458
00:25:04,004 --> 00:25:05,138
并调用管理员


459
00:25:05,205 --> 00:25:06,773
它将开始模态展示


460
00:25:08,876 --> 00:25:10,377
接下来


461
00:25:10,444 --> 00:25:12,145
我从转换指派协议中重载两种方法


462
00:25:12,713 --> 00:25:14,948
动画控制器的展示控制器


463
00:25:15,015 --> 00:25:17,618
和动画控制器的解除控制器


464
00:25:19,786 --> 00:25:23,690
从每个方法中返回的目标


465
00:25:23,924 --> 00:25:27,027
均遵循UI视图控制前动画传送协议


466
00:25:28,362 --> 00:25:29,997
此协议包含


467
00:25:30,063 --> 00:25:31,798
实际控制动画的方法


468
00:25:33,600 --> 00:25:37,471
在我展示的动画设计下面
有一个非常简单的动画


469
00:25:37,538 --> 00:25:41,675
可从屏幕中心
按比例放大目标视图控制器


470
00:25:42,843 --> 00:25:44,378
来看看运作中的segueway


471
00:25:48,815 --> 00:25:51,718
好了
再一次 我将轻敲单元格显示菜单


472
00:25:52,553 --> 00:25:54,154
当我轻敲删除按钮


473
00:25:55,956 --> 00:25:59,126
带有自定义动画的
自定义segueway开始执行


474
00:25:59,993 --> 00:26:01,662
看到了确认通知单


475
00:26:02,396 --> 00:26:05,732
取消时


476
00:26:06,133 --> 00:26:09,369
通过使用解除动画设计运行动画解除


477
00:26:10,971 --> 00:26:15,008
用不同的方式
对segueway进行自定义


478
00:26:15,876 --> 00:26:19,680
我鼓励你们在UI视图控制器
和UI故事板Segueway上


479
00:26:19,746 --> 00:26:21,915
查看我们其他的segueway


480
00:26:23,016 --> 00:26:25,319
自定义
segueway展示到此圆满结束


481
00:26:25,385 --> 00:26:28,288
现场交给凯尔
让凯尔带我们进入下一部分


482
00:26:35,863 --> 00:26:36,830
谢谢


483
00:26:39,700 --> 00:26:43,437
在故事板方面有所研究
我知道在座的各位都走在技术前沿


484
00:26:43,804 --> 00:26:46,240
有多少人
曾经用过展开segueway


485
00:26:48,208 --> 00:26:51,245
事实上 极少有人曾经使用过故事板


486
00:26:51,478 --> 00:26:52,579
有多少人


487
00:26:52,646 --> 00:26:55,182
曾经在iOS上
实现过自定义集合视图控制器


488
00:26:56,450 --> 00:26:57,551
同样很少


489
00:26:58,652 --> 00:27:00,020
今年 让我很激动的一件事是


490
00:27:00,087 --> 00:27:03,023
我们是如何让这两个特性
更好的配合使用


491
00:27:04,057 --> 00:27:07,060
对于不熟悉展开segueway
和它的作用的人来说


492
00:27:08,128 --> 00:27:11,098
可以将它理解成地图


493
00:27:12,833 --> 00:27:15,235
想象一下
我经常去格雷斯大教堂


494
00:27:15,302 --> 00:27:17,971
这座教堂位于诺布山上
是一座非常漂亮的几何形教堂


495
00:27:18,038 --> 00:27:21,275
你可以从这些位置 从市中心看到它


496
00:27:22,776 --> 00:27:24,144
因为它在山顶


497
00:27:24,211 --> 00:27:26,246
可以计算出我们要走一段很长的下坡路


498
00:27:26,313 --> 00:27:27,214
才能到达渡轮码头


499
00:27:29,816 --> 00:27:33,453
在渡轮码头闲逛一伙买到有机甘蓝


500
00:27:33,520 --> 00:27:37,057
和用蓝色瓶子装的咖啡 
因为我在内河码头


501
00:27:37,824 --> 00:27:41,528
我可能需要走一段很长的路
才能到达渔人码头


502
00:27:43,463 --> 00:27:45,032
我真的很累了


503
00:27:46,333 --> 00:27:47,334
我想要回家


504
00:27:48,669 --> 00:27:49,937
但我不想做的是


505
00:27:50,771 --> 00:27:52,573
转身原路返回


506
00:27:52,639 --> 00:27:57,244
因为一 我不是住在大教堂里
二 那也不是回到大教堂最短的路


507
00:27:59,847 --> 00:28:03,217
我想做的是  首先确定我想去哪


508
00:28:04,651 --> 00:28:07,187
第二 找出那个位置


509
00:28:08,856 --> 00:28:12,693
三 做计划并按照路线前往目的地


510
00:28:13,560 --> 00:28:15,295
这就是展开segueway所要做的


511
00:28:16,330 --> 00:28:19,299
它们找出前往特定目的地的路径


512
00:28:19,833 --> 00:28:21,735
但是 并不需要


513
00:28:21,802 --> 00:28:22,736
原路返回


514
00:28:25,539 --> 00:28:27,007
再举个具体例子


515
00:28:27,074 --> 00:28:28,475
讲讲应用的实际使用情况


516
00:28:29,076 --> 00:28:32,579
回到配合标签栏控制器


517
00:28:32,646 --> 00:28:33,981
正在使用中的展示应用


518
00:28:34,081 --> 00:28:37,351
不好意思 
我们的自定义标签控制器表视图


519
00:28:38,085 --> 00:28:39,653
和导航控制器都包含它


520
00:28:41,021 --> 00:28:42,956
当用户使用我们的应用时


521
00:28:43,023 --> 00:28:44,791
视图控制器层级发生变化


522
00:28:46,860 --> 00:28:52,666
他们可轻敲图像在导航控制器中
增加东西 那是选项卡的产物


523
00:28:55,702 --> 00:28:56,870
这就是我们所在的位置了


524
00:28:58,672 --> 00:29:00,340
此时 用户说


525
00:29:00,407 --> 00:29:02,576
我想回到
我刚看到的那个journal表格


526
00:29:08,448 --> 00:29:10,717
当我们要求这么做时


527
00:29:11,318 --> 00:29:12,920
我们将在照片视图控制器里


528
00:29:13,520 --> 00:29:15,355
执行一个segueway


529
00:29:16,757 --> 00:29:19,693
这是一个带返回至Journal
标识符的展开segueway


530
00:29:22,596 --> 00:29:23,897
展开
segueway首先


531
00:29:23,964 --> 00:29:25,666
确定目标


532
00:29:27,968 --> 00:29:32,439
发现目标的方法
确定我们已找到所寻目标的方法


533
00:29:32,706 --> 00:29:33,874
是利用一些代码


534
00:29:34,608 --> 00:29:38,846
这些代码在UI
表格视图控制器的子类中


535
00:29:39,446 --> 00:29:42,316
这也是我用来调用
iAmTheJournal的方法


536
00:29:43,250 --> 00:29:44,551
这个方法不起作用


537
00:29:44,618 --> 00:29:47,321
它是一个ID功能
拿走UI故事板segueway


538
00:29:47,554 --> 00:29:50,090
并单独存在


539
00:29:50,157 --> 00:29:52,392
这样我们可以确定
我们已找到所要的视图控制器


540
00:29:58,432 --> 00:30:00,701
第二步 找目标


541
00:30:03,470 --> 00:30:06,673
我们从寻找现有源的根源开始


542
00:30:07,741 --> 00:30:11,545
在iOS 8中 
我询问这个视图控制器 不好意思


543
00:30:13,647 --> 00:30:15,849
在iOS 8中 
我询问这个视图控制器


544
00:30:15,916 --> 00:30:18,151
根据未展开
segueway动作查看控制器 


545
00:30:18,652 --> 00:30:21,154
这个视图控制器将浏览它的子集


546
00:30:21,221 --> 00:30:23,724
试图找到一个视图控制器


547
00:30:23,891 --> 00:30:28,929
能对我们在这里指定的
iAmTheJournal选择器


548
00:30:29,363 --> 00:30:31,231
我们已在检查中


549
00:30:31,298 --> 00:30:32,999
为展开segueway对其进行创建


550
00:30:35,269 --> 00:30:38,939
对于小视图控制器
层级来说这个方法很棒


551
00:30:39,006 --> 00:30:40,274
但它并不适用于


552
00:30:40,340 --> 00:30:42,242
这个应用中的视图控制器层级


553
00:30:43,510 --> 00:30:46,713
在iOS 9中 我们弃用那个方法


554
00:30:46,914 --> 00:30:48,482
并用新方法取而代之


555
00:30:48,615 --> 00:30:51,585
允许子视图控制器
从源中展开而这个方法返回来的


556
00:30:52,486 --> 00:30:55,556
取代单独视图控制器的


557
00:30:55,622 --> 00:30:59,860
它返回了一批子接收器


558
00:30:59,927 --> 00:31:01,528
我们需浏览
这些子接收器以找出目标


559
00:31:04,631 --> 00:31:07,434
事实上 我们想返回一个子集


560
00:31:07,501 --> 00:31:12,406
我们并不想找
来时路径衍生出的展开目标


561
00:31:12,573 --> 00:31:14,141
我们有其他新方法


562
00:31:14,241 --> 00:31:16,577
包含一个允许子视图控制器重载


563
00:31:16,844 --> 00:31:20,013
segueway源的子视图控制器


564
00:31:20,080 --> 00:31:21,448
用来解决我们从哪来的问题


565
00:31:23,584 --> 00:31:26,253
UI导航控制器上的实现调用


566
00:31:26,320 --> 00:31:28,388
那个方法以解决我们从哪来的问题


567
00:31:28,622 --> 00:31:31,291
也就是说 哦 
那个照片视图控制器是源


568
00:31:31,491 --> 00:31:32,759
因此 包含源


569
00:31:33,961 --> 00:31:37,731
返回来的子视图控制器列


570
00:31:37,798 --> 00:31:39,833
忽略了视图控制器 我们得到1的阵列


571
00:31:41,768 --> 00:31:44,204
此时 故事板运行时


572
00:31:44,271 --> 00:31:46,573
递归到阵列  从第一个
且是唯一一个的元素开始


573
00:31:48,108 --> 00:31:51,678
我们询问这个集合
视图控制器最近的这个集合


574
00:31:52,746 --> 00:31:54,548
控制器的子视图控制器已被掩盖


575
00:31:54,615 --> 00:31:57,384
我们应该进一步搜索
以找到展开segueway的目标


576
00:31:58,385 --> 00:32:00,153
它没有任何子视图控制器


577
00:32:01,088 --> 00:32:03,857
我们有递归的基础案例可以进行询问


578
00:32:04,358 --> 00:32:07,828
你是否可以执行
我们在找的展开segueway


579
00:32:09,062 --> 00:32:14,201
它无法执行 我们也没找到目标


580
00:32:15,269 --> 00:32:17,104
我们重新搜索


581
00:32:17,171 --> 00:32:18,539
将视图控制器层级链提高一级


582
00:32:21,175 --> 00:32:23,644
同先前的方法
新方法允许子视图控制器


583
00:32:23,710 --> 00:32:26,013
来自展开 来自源


584
00:32:28,549 --> 00:32:31,618
它的实现 自定义视图控制器


585
00:32:31,685 --> 00:32:32,986
只想返回


586
00:32:33,053 --> 00:32:34,821
垂直向上 通过堆栈


587
00:32:35,389 --> 00:32:39,526
它询问自己哪个子集包含展开源


588
00:32:41,662 --> 00:32:44,631
照片导航控制器包含这个源


589
00:32:45,732 --> 00:32:47,935
所以返回来的阵列
忽略了那个子阵列


590
00:32:48,769 --> 00:32:50,804
又有一个子阵列


591
00:32:50,871 --> 00:32:54,508
这个阵列是从这个方法
和运行前递归中返回的


592
00:32:56,276 --> 00:32:59,213
我们应该浏览哪个子阵列
寻找展开源呢


593
00:33:00,214 --> 00:33:01,381
不好意思 是展开目标


594
00:33:03,450 --> 00:33:07,921
导航控制器没有任何
没有子源


595
00:33:08,422 --> 00:33:10,924
暂时先略过  再一次递归


596
00:33:12,793 --> 00:33:16,330
询问表格视图控制器
我们应该浏览哪个在哪里寻找目标呢


597
00:33:16,697 --> 00:33:17,731
它没有任何子


598
00:33:18,298 --> 00:33:21,668
我们询问它能否执行
展开segueway功能呢


599
00:33:23,270 --> 00:33:28,442
方法是我刚用过的
它的实现并没有任何载体


600
00:33:29,042 --> 00:33:31,879
这是我们的标记 
我们找到它了 找到目标了


601
00:33:39,353 --> 00:33:44,258
此刻 在iOS中 我们要求目标根源


602
00:33:44,992 --> 00:33:46,593
返还一个segueway


603
00:33:46,660 --> 00:33:49,429
这样我们就可以知道如何
恢复视图控制器层级


604
00:33:49,630 --> 00:33:51,131
让我们的目标可见


605
00:33:52,132 --> 00:33:54,701
对于更复杂的视图控制器层级


606
00:33:54,801 --> 00:33:57,771
这个问题真的很难回答


607
00:33:59,406 --> 00:34:00,574
我们弃用那个方法


608
00:34:01,608 --> 00:34:04,244
以一个命名为增加展开的特性加以取代


609
00:34:06,013 --> 00:34:09,016
这个特性让每个从源到目标的


610
00:34:09,081 --> 00:34:11,585
视图控制器参与展开


611
00:34:12,186 --> 00:34:13,987
因此我只需使用局部知识


612
00:34:15,789 --> 00:34:18,792
执行期将使用


613
00:34:18,958 --> 00:34:20,793
你在检查和界面生成器上


614
00:34:20,860 --> 00:34:23,496
指定的任何子集
构建UI故事板segueway目标


615
00:34:24,665 --> 00:34:25,966
它要求它执行


616
00:34:29,503 --> 00:34:31,938
这是第三步  按照路径走


617
00:34:33,607 --> 00:34:34,908
好了 我们已经找到


618
00:34:34,975 --> 00:34:36,710
从源到目标的路径


619
00:34:39,746 --> 00:34:42,815
首先要做的是为segueway


620
00:34:42,882 --> 00:34:44,384
请求路径上的第一个中继段


621
00:34:44,451 --> 00:34:46,386
朝视图控制器展开


622
00:34:47,154 --> 00:34:48,822
我们将请求源的根源


623
00:34:49,922 --> 00:34:51,725
执行任何所需的行动


624
00:34:51,992 --> 00:34:54,194
以让我们进入链接中的第二步


625
00:34:55,996 --> 00:34:58,532
子视图控制器对其根源一无所知


626
00:34:58,599 --> 00:35:00,901
这个方法并没有用


627
00:35:01,235 --> 00:35:02,936
它被告知向根源展开


628
00:35:03,270 --> 00:35:04,638
但这并不是子的责任


629
00:35:06,306 --> 00:35:08,642
接下来 我们来说说
自定义集合视图控制器


630
00:35:09,610 --> 00:35:13,547
我们发出请求 好了
朝journal导航控制器展开


631
00:35:15,182 --> 00:35:17,251
这是自定义标签控制器所需做的


632
00:35:17,317 --> 00:35:21,088
它知道如何重新安排


633
00:35:21,955 --> 00:35:24,091
以便让journal导航控制器可见


634
00:35:27,494 --> 00:35:31,765
下一步 我们要求导航控制器


635
00:35:31,832 --> 00:35:33,066
对表格视图控制器展开


636
00:35:34,034 --> 00:35:35,936
它已经在导航堆栈顶部


637
00:35:36,003 --> 00:35:37,437
所以这里就不需要再做什么了


638
00:35:38,372 --> 00:35:40,541
我们返回用户想去的地方


639
00:35:42,176 --> 00:35:44,011
这就是关于它们内部如何运作的


640
00:35:45,345 --> 00:35:47,614
托尼将为你展示
如何在你的应用中执行


641
00:35:52,286 --> 00:35:53,153
谢谢你 凯尔


642
00:35:54,188 --> 00:35:57,257
在接下的演示中 我将向大家展示


643
00:35:57,324 --> 00:36:00,294
如何用自定义container 
视图控制器segueways展开


644
00:36:00,360 --> 00:36:02,129
你可能还记得在第一个演示中


645
00:36:02,362 --> 00:36:05,265
我们通过Journal
按钮创建了一个segueway


646
00:36:05,332 --> 00:36:07,601
该模态表是
用于创建新的journal入口的


647
00:36:09,236 --> 00:36:12,973
不过 我们还没有为该完成按钮
附加任何功能


648
00:36:13,640 --> 00:36:16,210
我现在需要做的是通过完成按钮


649
00:36:16,276 --> 00:36:17,678
创建一个展开segueway 


650
00:36:17,744 --> 00:36:19,680
然后
使用展开segueway去做一些事


651
00:36:20,180 --> 00:36:22,783
首先 我想要谈谈模态表


652
00:36:23,851 --> 00:36:26,954
我想要从导航中


653
00:36:27,020 --> 00:36:28,055
撤销照片视图管理器


654
00:36:29,122 --> 00:36:32,226
我想要把标签转成journal标签


655
00:36:33,093 --> 00:36:35,128
我想要下移导航控制器 


656
00:36:35,195 --> 00:36:36,463
回到该表格视图控制器 


657
00:36:36,530 --> 00:36:38,031
这里我们会为


658
00:36:38,365 --> 00:36:40,133
journal入口


659
00:36:40,200 --> 00:36:41,268
插入新的表格视图单元


660
00:36:42,002 --> 00:36:44,638
对于一个segueway来说要很多
首先从哪开始呢？


661
00:36:45,639 --> 00:36:49,476
第一步
是创建一个展开segueway


662
00:36:49,710 --> 00:36:52,679
先在想要展开的视图控制器中


663
00:36:52,946 --> 00:36:54,781
定义IB动作方法的特别类型


664
00:36:55,082 --> 00:36:57,551
这种情况下
是journal表格视图控制器


665
00:36:59,086 --> 00:37:00,687
在这里 控制器执行过程中


666
00:37:00,754 --> 00:37:03,624
你可以看到这里有IB动作方法


667
00:37:04,491 --> 00:37:06,126
而且 是特别的IB动作方式


668
00:37:06,193 --> 00:37:08,595
因为它将
一个UI故事板Segueway  


669
00:37:08,662 --> 00:37:09,763
作为其唯一参数


670
00:37:11,565 --> 00:37:14,668
任何时候Xcode看到
一个将UI故事板Segueway 


671
00:37:14,735 --> 00:37:17,771
作为其唯一参数
的IB动作方法时候 


672
00:37:17,838 --> 00:37:21,308
都会允许你创建展开
segueway用于指向选择器


673
00:37:23,777 --> 00:37:26,713
使用这种方法 


674
00:37:26,780 --> 00:37:30,184
我控制了
segueway的资源视图控制器 


675
00:37:30,250 --> 00:37:32,553
视图控制器是用于创建
一条新的journal入口


676
00:37:33,620 --> 00:37:36,023
我使用
该视图控制器的journal入口 


677
00:37:36,089 --> 00:37:39,326
然后添加到我们的模型中这里刷新表格


678
00:37:39,593 --> 00:37:41,461
然后插入新单元格
然后滚动到单元格位置


679
00:37:42,896 --> 00:37:45,732
现在 
我们可以看到我们想要的展开动作 


680
00:37:46,099 --> 00:37:47,401
让我们现在回到故事板上 


681
00:37:47,467 --> 00:37:49,570
然后创建一个
segueway指向该选择器


682
00:37:51,705 --> 00:37:54,107
这里我们在视图控制器 


683
00:37:54,174 --> 00:37:56,109
这里
可以创建一个新journal入口 


684
00:37:56,343 --> 00:37:59,713
然后我们将通过完成按钮
创建一个展开segueway


685
00:38:00,447 --> 00:38:02,816
为了这么做 我们将从完成按钮拖动到


686
00:38:03,383 --> 00:38:05,752
SceneDoc的退出占位符


687
00:38:06,920 --> 00:38:09,790
退出占位符可作为占位符


688
00:38:09,990 --> 00:38:11,758
用于Xcode在工作区发现的


689
00:38:11,825 --> 00:38:13,760
所有合法的
展开segueway动作中


690
00:38:14,361 --> 00:38:17,231
根据UI故事板Segueway


691
00:38:17,431 --> 00:38:19,733
通过IB动作方法再次确认


692
00:38:19,833 --> 00:38:21,201
是否是合法的展开动作


693
00:38:22,102 --> 00:38:25,439
这里会发现我们看到的这种方法
 所以 我准备进行选择


694
00:38:27,741 --> 00:38:30,377
一般而言 这就是你要做的
当你创建一个展开segueway


695
00:38:30,577 --> 00:38:33,580
你定义展开选择器 
然后创建segueway指向它


696
00:38:34,281 --> 00:38:37,251
在我例子中 
我想要执行一些自定义逻辑 


697
00:38:38,018 --> 00:38:40,687
这样可以允许我的自定义
container视图控制器


698
00:38:40,754 --> 00:38:42,189
在这些标签之间转换


699
00:38:43,190 --> 00:38:47,227
这个逻辑在自定义container
视图控制器文件 我们来看


700
00:38:51,832 --> 00:38:54,134
正如你看到的 在这个视图控制器中 


701
00:38:54,201 --> 00:38:56,870
我已经展开
指向视图控制器的segueway


702
00:38:57,971 --> 00:38:59,673
在这种方法中 我做了两件事


703
00:39:00,841 --> 00:39:03,443
首先 我选取当前选择的导航控制器 


704
00:39:03,510 --> 00:39:06,213
然后我退出到根视图控制器


705
00:39:07,514 --> 00:39:10,284
然后 我设定选择的导航控制器


706
00:39:10,617 --> 00:39:13,353
作为这个参数的后续视图控制器


707
00:39:14,688 --> 00:39:17,991
控制后续视图前是展开链中的下一步


708
00:39:18,358 --> 00:39:20,327
务须展示
 segueway最终目的地 


709
00:39:20,394 --> 00:39:23,030
这里是该展开指向的


710
00:39:23,096 --> 00:39:25,732
自定义container的直接下代


711
00:39:27,801 --> 00:39:31,104
这里设置属性观察 


712
00:39:31,171 --> 00:39:33,974
准备升级我们自动布局限制 


713
00:39:34,041 --> 00:39:35,809
并执行我们之前看到的滑动动画


714
00:39:37,311 --> 00:39:40,514
看到我的自定义
container视图控制器


715
00:39:40,581 --> 00:39:42,449
执行递增展开


716
00:39:42,916 --> 00:39:44,751
然我们看看展开segueway动作


717
00:39:48,822 --> 00:39:50,891
我会选择一个单元 下拉菜单


718
00:39:51,458 --> 00:39:52,593
选择journal按钮


719
00:39:53,527 --> 00:39:54,928
现在 我点击完成按钮


720
00:39:55,696 --> 00:39:57,898
你可以看到我们已经转换了标签


721
00:39:58,532 --> 00:40:00,167
在journal视图控制器这里 


722
00:40:00,400 --> 00:40:03,170
并插入journal
入口的新表格视图单元


723
00:40:05,038 --> 00:40:07,674
正如
你所看到的展开segueway 


724
00:40:07,741 --> 00:40:09,343
在iOS 9系统上
更多的强大功能 


725
00:40:09,409 --> 00:40:11,645
和自定义container
视图控制器配合好


726
00:40:18,652 --> 00:40:21,188
这样 关于展开演示结束了


727
00:40:21,455 --> 00:40:24,124
现在 
让我们回到凯尔这里看看他的演示


728
00:40:27,895 --> 00:40:30,831
谢谢你 托尼
现在我们可以快速总结一下


729
00:40:30,898 --> 00:40:32,833
用于刚介绍的展开的新API


730
00:40:33,433 --> 00:40:34,968
我们已经放弃


731
00:40:35,035 --> 00:40:36,737
展开segueway的视图控制器 


732
00:40:36,803 --> 00:40:40,374
取而代之
我们用许可展开资源的子视图控制器


733
00:40:40,941 --> 00:40:42,342
如果你不再使用旧方法


734
00:40:42,409 --> 00:40:44,077
而且使用新的方法 


735
00:40:44,144 --> 00:40:46,813
我们会在
iOS 9系统上保留旧方法 


736
00:40:46,880 --> 00:40:50,017
这样如果你的app是在
iOS 8上运行的代码照常执行 


737
00:40:50,150 --> 00:40:51,652
也可以在iOS9上运行


738
00:40:52,619 --> 00:40:56,390
segueway定源法调用
新的允许子视图包容控制器 


739
00:40:56,456 --> 00:41:00,694
这样可以过滤返回


740
00:41:00,761 --> 00:41:02,496
子视图控制器阵列


741
00:41:04,164 --> 00:41:06,667
如果需要某些自定义校验 


742
00:41:06,733 --> 00:41:08,836
用于执行特定的展开 


743
00:41:08,902 --> 00:41:13,006
你可以替换和执行
已有的展开seguew动作方法 


744
00:41:13,373 --> 00:41:15,142
但是是预设情况
所能执行的动作是


745
00:41:15,209 --> 00:41:17,177
查看接收器是否对选择器做出反馈


746
00:41:17,811 --> 00:41:18,879
一般而言 这些就足够了


747
00:41:21,281 --> 00:41:23,483
同样的 我们已经放弃


748
00:41:23,550 --> 00:41:26,486
查看视图控制器
方法的展开segueway


749
00:41:27,020 --> 00:41:29,957
并用展开segueway取代 


750
00:41:30,023 --> 00:41:31,592
可以在执行递增展开链条中


751
00:41:32,059 --> 00:41:33,393
每个试图控制器上调用


752
00:41:36,964 --> 00:41:37,798
总之


753
00:41:38,498 --> 00:41:41,201
今天我们了解了如何
使用组织故事板引用


754
00:41:42,669 --> 00:41:45,339
我们了解到如何通过
重新分类自定义segueway


755
00:41:45,772 --> 00:41:47,574
即使是我们使用的是标准指令


756
00:41:48,909 --> 00:41:51,645
我们还详细了解了
一下iOS和iOS 9系统 


757
00:41:52,312 --> 00:41:54,748
通过形态展示视图控制器 


758
00:41:55,449 --> 00:41:57,284
通过展开segueway演示


759
00:41:57,684 --> 00:42:01,889
而且指向segueway目标


760
00:42:02,155 --> 00:42:05,392
弹出框展示segueway 


761
00:42:05,659 --> 00:42:09,229
这样可以对动画
和自适应性执行委派动作


762
00:42:11,031 --> 00:42:13,066
我们了解展开
segueway是如何工作


763
00:42:13,133 --> 00:42:15,202
然我们可以后退到应用流中 


764
00:42:15,903 --> 00:42:18,805
而且这样我们可以在自定义
container中更容易使用 


765
00:42:19,439 --> 00:42:22,709
以及如何在iOS 9系统上
移除禁用API


766
00:42:24,611 --> 00:42:26,146
如果需要更多故事版的信息 


767
00:42:26,213 --> 00:42:28,415
故事版助手
在Xcode 7中可以查看 


768
00:42:28,482 --> 00:42:30,150
所以有问题先查看


769
00:42:30,517 --> 00:42:33,887
我们还有一个简单的项目
segueway catalog 


770
00:42:34,721 --> 00:42:36,723
可以在开发者网站上下载


771
00:42:37,124 --> 00:42:39,226
segueway这个
名字中间不应该有空格


772
00:42:39,293 --> 00:42:42,062
如果在catalog中搜
segueway会找到其他东西


773
00:42:44,031 --> 00:42:46,934
如果需要技术支持 请查看开发者论坛


774
00:42:47,000 --> 00:42:48,869
上面有很多像你一样的开发者 


775
00:42:48,936 --> 00:42:52,606
面对你所遇到的相同的问题
上面都有解答 


776
00:42:52,673 --> 00:42:54,575
这里可以帮助你解决问题 


777
00:42:55,242 --> 00:42:57,211
你可以联系开发者技术支持部 


778
00:42:57,277 --> 00:42:58,445
或者如果你想进行咨询 


779
00:42:58,512 --> 00:43:00,681
可以联系我们的专员 卡特· 罗伯特


780
00:43:01,215 --> 00:43:02,983
我们在Bash会议上见

